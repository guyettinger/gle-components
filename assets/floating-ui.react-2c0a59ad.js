import{r as d,a as tn}from"./index-c013ead5.js";import{r as nn}from"./index-169ee69c.js";function be(e){return rn(e)?(e.nodeName||"").toLowerCase():"#document"}function ie(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function me(e){var t;return(t=(rn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function rn(e){return e instanceof Node||e instanceof ie(e).Node}function G(e){return e instanceof Element||e instanceof ie(e).Element}function ne(e){return e instanceof HTMLElement||e instanceof ie(e).HTMLElement}function ht(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ie(e).ShadowRoot}function De(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=se(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Dn(e){return["table","td","th"].includes(be(e))}function wt(e){const t=xt(),n=se(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Nn(e){let t=Re(e);for(;ne(t)&&!Ne(t);){if(wt(t))return t;t=Re(t)}return null}function xt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ne(e){return["html","body","#document"].includes(be(e))}function se(e){return ie(e).getComputedStyle(e)}function nt(e){return G(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Re(e){if(be(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ht(e)&&e.host||me(e);return ht(t)?t.host:t}function on(e){const t=Re(e);return Ne(t)?e.ownerDocument?e.ownerDocument.body:e.body:ne(t)&&De(t)?t:on(t)}function ve(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=on(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ie(o);return i?t.concat(s,s.visualViewport||[],De(o)?o:[],s.frameElement&&n?ve(s.frameElement):[]):t.concat(o,ve(o,[],n))}function le(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function Q(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ht(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Rt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Bn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function sn(e){return e.mozInputSource===0&&e.isTrusted?!0:un()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function cn(e){return!un()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function Et(){return/apple/i.test(navigator.vendor)}function un(){const e=/android/i;return e.test(Rt())||e.test(Bn())}function Vn(){return Rt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Ue(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Kn(e){return"nativeEvent"in e}function Wn(e){return e.matches("html,body")}function oe(e){return(e==null?void 0:e.ownerDocument)||document}function lt(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function rt(e){return"composedPath"in e?e.composedPath()[0]:e.target}const _n="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Tt(e){return ne(e)&&e.matches(_n)}function te(e){e.preventDefault(),e.stopPropagation()}const Xe=Math.min,we=Math.max,Ye=Math.round,Oe=Math.floor,ye=e=>({x:e,y:e}),Hn={left:"right",right:"left",bottom:"top",top:"bottom"},qn={start:"end",end:"start"};function Dt(e,t,n){return we(e,Xe(t,n))}function ot(e,t){return typeof e=="function"?e(t):e}function Ee(e){return e.split("-")[0]}function it(e){return e.split("-")[1]}function ln(e){return e==="x"?"y":"x"}function an(e){return e==="y"?"height":"width"}function st(e){return["top","bottom"].includes(Ee(e))?"y":"x"}function fn(e){return ln(st(e))}function zn(e,t,n){n===void 0&&(n=!1);const r=it(e),o=fn(e),i=an(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Ge(s)),[s,Ge(s)]}function jn(e){const t=Ge(e);return[bt(e),t,bt(t)]}function bt(e){return e.replace(/start|end/g,t=>qn[t])}function $n(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function Un(e,t,n,r){const o=it(e);let i=$n(Ee(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(bt)))),i}function Ge(e){return e.replace(/left|right|bottom|top/g,t=>Hn[t])}function Xn(e){return{top:0,right:0,bottom:0,left:0,...e}}function Yn(e){return typeof e!="number"?Xn(e):{top:e,right:e,bottom:e,left:e}}function Ze(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Nt(e,t,n){let{reference:r,floating:o}=e;const i=st(t),s=fn(t),c=an(s),l=Ee(t),a=i==="y",p=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,h=r[c]/2-o[c]/2;let u;switch(l){case"top":u={x:p,y:r.y-o.height};break;case"bottom":u={x:p,y:r.y+r.height};break;case"right":u={x:r.x+r.width,y:f};break;case"left":u={x:r.x-o.width,y:f};break;default:u={x:r.x,y:r.y}}switch(it(t)){case"start":u[s]-=h*(n&&a?-1:1);break;case"end":u[s]+=h*(n&&a?-1:1);break}return u}const Gn=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:f}=Nt(a,r,l),h=r,u={},m=0;for(let v=0;v<c.length;v++){const{name:T,fn:b}=c[v],{x:y,y:P,data:E,reset:R}=await b({x:p,y:f,initialPlacement:r,placement:h,strategy:o,middlewareData:u,rects:a,platform:s,elements:{reference:e,floating:t}});if(p=y??p,f=P??f,u={...u,[T]:{...u[T],...E}},R&&m<=50){m++,typeof R=="object"&&(R.placement&&(h=R.placement),R.rects&&(a=R.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):R.rects),{x:p,y:f}=Nt(a,h,l)),v=-1;continue}}return{x:p,y:f,placement:h,strategy:o,middlewareData:u}};async function dn(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:l}=e,{boundary:a="clippingAncestors",rootBoundary:p="viewport",elementContext:f="floating",altBoundary:h=!1,padding:u=0}=ot(t,e),m=Yn(u),T=c[h?f==="floating"?"reference":"floating":f],b=Ze(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:a,rootBoundary:p,strategy:l})),y=f==="floating"?{...s.floating,x:r,y:o}:s.reference,P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),E=await(i.isElement==null?void 0:i.isElement(P))?await(i.getScale==null?void 0:i.getScale(P))||{x:1,y:1}:{x:1,y:1},R=Ze(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:P,strategy:l}):y);return{top:(b.top-R.top+m.top)/E.y,bottom:(R.bottom-b.bottom+m.bottom)/E.y,left:(b.left-R.left+m.left)/E.x,right:(R.right-b.right+m.right)/E.x}}const oo=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:l,elements:a}=t,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...T}=ot(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Ee(o),y=Ee(c)===c,P=await(l.isRTL==null?void 0:l.isRTL(a.floating)),E=h||(y||!v?[Ge(c)]:jn(c));!h&&m!=="none"&&E.push(...Un(c,v,m,P));const R=[c,...E],M=await dn(t,T),B=[];let W=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&B.push(M[b]),f){const I=zn(o,s,P);B.push(M[I[0]],M[I[1]])}if(W=[...W,{placement:o,overflows:B}],!B.every(I=>I<=0)){var k,S;const I=(((k=i.flip)==null?void 0:k.index)||0)+1,x=R[I];if(x)return{data:{index:I,overflows:W},reset:{placement:x}};let g=(S=W.filter(w=>w.overflows[0]<=0).sort((w,O)=>w.overflows[1]-O.overflows[1])[0])==null?void 0:S.placement;if(!g)switch(u){case"bestFit":{var C;const w=(C=W.map(O=>[O.placement,O.overflows.filter(V=>V>0).reduce((V,A)=>V+A,0)]).sort((O,V)=>O[1]-V[1])[0])==null?void 0:C[0];w&&(g=w);break}case"initialPlacement":g=c;break}if(o!==g)return{reset:{placement:g}}}return{}}}};async function Zn(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Ee(n),c=it(n),l=st(n)==="y",a=["left","top"].includes(s)?-1:1,p=i&&l?-1:1,f=ot(t,e);let{mainAxis:h,crossAxis:u,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return c&&typeof m=="number"&&(u=c==="end"?m*-1:m),l?{x:u*p,y:h*a}:{x:h*a,y:u*p}}const io=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await Zn(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},so=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:T=>{let{x:b,y}=T;return{x:b,y}}},...l}=ot(e,t),a={x:n,y:r},p=await dn(t,l),f=st(Ee(o)),h=ln(f);let u=a[h],m=a[f];if(i){const T=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=u+p[T],P=u-p[b];u=Dt(y,u,P)}if(s){const T=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=m+p[T],P=m-p[b];m=Dt(y,m,P)}const v=c.fn({...t,[h]:u,[f]:m});return{...v,data:{x:v.x-n,y:v.y-r}}}}};function mn(e){const t=se(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ne(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=Ye(n)!==i||Ye(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function Ct(e){return G(e)?e:e.contextElement}function Se(e){const t=Ct(e);if(!ne(t))return ye(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=mn(t);let s=(i?Ye(n.width):n.width)/r,c=(i?Ye(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const Jn=ye(0);function gn(e){const t=ie(e);return!xt()||!t.visualViewport?Jn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Qn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ie(e)?!1:t}function Te(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Ct(e);let s=ye(1);t&&(r?G(r)&&(s=Se(r)):s=Se(e));const c=Qn(i,n,r)?gn(i):ye(0);let l=(o.left+c.x)/s.x,a=(o.top+c.y)/s.y,p=o.width/s.x,f=o.height/s.y;if(i){const h=ie(i),u=r&&G(r)?ie(r):r;let m=h.frameElement;for(;m&&r&&u!==h;){const v=Se(m),T=m.getBoundingClientRect(),b=se(m),y=T.left+(m.clientLeft+parseFloat(b.paddingLeft))*v.x,P=T.top+(m.clientTop+parseFloat(b.paddingTop))*v.y;l*=v.x,a*=v.y,p*=v.x,f*=v.y,l+=y,a+=P,m=ie(m).frameElement}}return Ze({width:p,height:f,x:l,y:a})}function er(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=ne(n),i=me(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},c=ye(1);const l=ye(0);if((o||!o&&r!=="fixed")&&((be(n)!=="body"||De(i))&&(s=nt(n)),ne(n))){const a=Te(n);c=Se(n),l.x=a.x+n.clientLeft,l.y=a.y+n.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-s.scrollLeft*c.x+l.x,y:t.y*c.y-s.scrollTop*c.y+l.y}}function tr(e){return Array.from(e.getClientRects())}function pn(e){return Te(me(e)).left+nt(e).scrollLeft}function nr(e){const t=me(e),n=nt(e),r=e.ownerDocument.body,o=we(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=we(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+pn(e);const c=-n.scrollTop;return se(r).direction==="rtl"&&(s+=we(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}function rr(e,t){const n=ie(e),r=me(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,l=0;if(o){i=o.width,s=o.height;const a=xt();(!a||a&&t==="fixed")&&(c=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:c,y:l}}function or(e,t){const n=Te(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=ne(e)?Se(e):ye(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,l=o*i.x,a=r*i.y;return{width:s,height:c,x:l,y:a}}function Bt(e,t,n){let r;if(t==="viewport")r=rr(e,n);else if(t==="document")r=nr(me(e));else if(G(t))r=or(t,n);else{const o=gn(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Ze(r)}function vn(e,t){const n=Re(e);return n===t||!G(n)||Ne(n)?!1:se(n).position==="fixed"||vn(n,t)}function ir(e,t){const n=t.get(e);if(n)return n;let r=ve(e,[],!1).filter(c=>G(c)&&be(c)!=="body"),o=null;const i=se(e).position==="fixed";let s=i?Re(e):e;for(;G(s)&&!Ne(s);){const c=se(s),l=wt(s);!l&&c.position==="fixed"&&(o=null),(i?!l&&!o:!l&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||De(s)&&!l&&vn(e,s))?r=r.filter(p=>p!==s):o=c,s=Re(s)}return t.set(e,r),r}function sr(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?ir(t,this._c):[].concat(n),r],c=s[0],l=s.reduce((a,p)=>{const f=Bt(t,p,o);return a.top=we(f.top,a.top),a.right=Xe(f.right,a.right),a.bottom=Xe(f.bottom,a.bottom),a.left=we(f.left,a.left),a},Bt(t,c,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function cr(e){return mn(e)}function ur(e,t,n){const r=ne(t),o=me(t),i=n==="fixed",s=Te(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=ye(0);if(r||!r&&!i)if((be(t)!=="body"||De(o))&&(c=nt(t)),r){const a=Te(t,!0,i,t);l.x=a.x+t.clientLeft,l.y=a.y+t.clientTop}else o&&(l.x=pn(o));return{x:s.left+c.scrollLeft-l.x,y:s.top+c.scrollTop-l.y,width:s.width,height:s.height}}function Vt(e,t){return!ne(e)||se(e).position==="fixed"?null:t?t(e):e.offsetParent}function hn(e,t){const n=ie(e);if(!ne(e))return n;let r=Vt(e,t);for(;r&&Dn(r)&&se(r).position==="static";)r=Vt(r,t);return r&&(be(r)==="html"||be(r)==="body"&&se(r).position==="static"&&!wt(r))?n:r||Nn(e)||n}const lr=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||hn,i=this.getDimensions;return{reference:ur(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function ar(e){return se(e).direction==="rtl"}const fr={convertOffsetParentRelativeRectToViewportRelativeRect:er,getDocumentElement:me,getClippingRect:sr,getOffsetParent:hn,getElementRects:lr,getClientRects:tr,getDimensions:cr,getScale:Se,isElement:G,isRTL:ar};function dr(e,t){let n=null,r;const o=me(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const{left:a,top:p,width:f,height:h}=e.getBoundingClientRect();if(c||t(),!f||!h)return;const u=Oe(p),m=Oe(o.clientWidth-(a+f)),v=Oe(o.clientHeight-(p+h)),T=Oe(a),y={rootMargin:-u+"px "+-m+"px "+-v+"px "+-T+"px",threshold:we(0,Xe(1,l))||1};let P=!0;function E(R){const M=R[0].intersectionRatio;if(M!==l){if(!P)return s();M?s(!1,M):r=setTimeout(()=>{s(!1,1e-7)},100)}P=!1}try{n=new IntersectionObserver(E,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,y)}n.observe(e)}return s(!0),i}function co(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,a=Ct(e),p=o||i?[...a?ve(a):[],...ve(t)]:[];p.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=a&&c?dr(a,n):null;let h=-1,u=null;s&&(u=new ResizeObserver(b=>{let[y]=b;y&&y.target===a&&u&&(u.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{u&&u.observe(t)})),n()}),a&&!l&&u.observe(a),u.observe(t));let m,v=l?Te(e):null;l&&T();function T(){const b=Te(e);v&&(b.x!==v.x||b.y!==v.y||b.width!==v.width||b.height!==v.height)&&n(),v=b,m=requestAnimationFrame(T)}return n(),()=>{p.forEach(b=>{o&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),f&&f(),u&&u.disconnect(),u=null,l&&cancelAnimationFrame(m)}}const mr=(e,t,n)=>{const r=new Map,o={platform:fr,...n},i={...o.platform,_c:r};return Gn(e,t,{...o,platform:i})};var $e=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Je(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Je(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Je(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function bn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Kt(e,t){const n=bn(e);return Math.round(t*n)/n}function Wt(e){const t=d.useRef(e);return $e(()=>{t.current=e}),t}function gr(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:l,open:a}=e,[p,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,u]=d.useState(r);Je(h,r)||u(r);const[m,v]=d.useState(null),[T,b]=d.useState(null),y=d.useCallback(O=>{O!=M.current&&(M.current=O,v(O))},[v]),P=d.useCallback(O=>{O!==B.current&&(B.current=O,b(O))},[b]),E=i||m,R=s||T,M=d.useRef(null),B=d.useRef(null),W=d.useRef(p),k=Wt(l),S=Wt(o),C=d.useCallback(()=>{if(!M.current||!B.current)return;const O={placement:t,strategy:n,middleware:h};S.current&&(O.platform=S.current),mr(M.current,B.current,O).then(V=>{const A={...V,isPositioned:!0};I.current&&!Je(W.current,A)&&(W.current=A,nn.flushSync(()=>{f(A)}))})},[h,t,n,S]);$e(()=>{a===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[a]);const I=d.useRef(!1);$e(()=>(I.current=!0,()=>{I.current=!1}),[]),$e(()=>{if(E&&(M.current=E),R&&(B.current=R),E&&R){if(k.current)return k.current(E,R,C);C()}},[E,R,C,k]);const x=d.useMemo(()=>({reference:M,floating:B,setReference:y,setFloating:P}),[y,P]),g=d.useMemo(()=>({reference:E,floating:R}),[E,R]),w=d.useMemo(()=>{const O={position:n,left:0,top:0};if(!g.floating)return O;const V=Kt(g.floating,p.x),A=Kt(g.floating,p.y);return c?{...O,transform:"translate("+V+"px, "+A+"px)",...bn(g.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:A}},[n,c,g.floating,p.x,p.y]);return d.useMemo(()=>({...p,update:C,refs:x,elements:g,floatingStyles:w}),[p,C,x,g,w])}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var pr=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],yt=pr.join(","),yn=typeof Element>"u",Le=yn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Qe=!yn&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},et=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},vr=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},hr=function(t,n,r){if(et(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(yt));return n&&Le.call(t,yt)&&o.unshift(t),o=o.filter(r),o},br=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!et(s,!1))if(s.tagName==="SLOT"){var c=s.assignedElements(),l=c.length?c:s.children,a=e(l,!0,r);r.flatten?o.push.apply(o,a):o.push({scopeParent:s,candidates:a})}else{var p=Le.call(s,yt);p&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var f=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),h=!et(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(f&&h){var u=e(f===!0?s.children:f.children,!0,r);r.flatten?o.push.apply(o,u):o.push({scopeParent:s,candidates:u})}else i.unshift.apply(i,s.children)}}return o},wn=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},xn=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||vr(t))&&!wn(t)?0:t.tabIndex},yr=function(t,n){var r=xn(t);return r<0&&n&&!wn(t)?0:r},wr=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Rn=function(t){return t.tagName==="INPUT"},xr=function(t){return Rn(t)&&t.type==="hidden"},Rr=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Er=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Tr=function(t){if(!t.name)return!0;var n=t.form||Qe(t),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=Er(o,t.form);return!i||i===t},Cr=function(t){return Rn(t)&&t.type==="radio"},Ir=function(t){return Cr(t)&&!Tr(t)},Or=function(t){var n,r=t&&Qe(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,c,l;for(i=!!((s=o)!==null&&s!==void 0&&(c=s.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!i&&o;){var a,p,f;r=Qe(o),o=(a=r)===null||a===void 0?void 0:a.host,i=!!((p=o)!==null&&p!==void 0&&(f=p.ownerDocument)!==null&&f!==void 0&&f.contains(o))}}return i},_t=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Sr=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=Le.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if(Le.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var l=t.parentElement,a=Qe(t);if(l&&!l.shadowRoot&&o(l)===!0)return _t(t);t.assignedSlot?t=t.assignedSlot:!l&&a!==t.ownerDocument?t=a.host:t=l}t=c}if(Or(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return _t(t);return!1},Ar=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return Le.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},Pr=function(t,n){return!(n.disabled||et(n)||xr(n)||Sr(n,t)||Rr(n)||Ar(n))},Ht=function(t,n){return!(Ir(n)||xn(n)<0||!Pr(t,n))},Mr=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},kr=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,c=s?o.scopeParent:o,l=yr(c,s),a=s?e(o.candidates):c;l===0?s?n.push.apply(n,a):n.push(c):r.push({documentOrder:i,tabIndex:l,item:o,isScope:s,content:a})}),r.sort(wr).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},It=function(t,n){n=n||{};var r;return n.getShadowRoot?r=br([t],n.includeContainer,{filter:Ht.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Mr}):r=hr(t,n.includeContainer,Ht.bind(null,n)),kr(r)};function uo(e){return d.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const Ot="ArrowUp",ct="ArrowDown",Ae="ArrowLeft",Be="ArrowRight";function qe(e,t,n){return Math.floor(e/t)!==n}function Me(e,t){return t<0||t>=e.current.length}function at(e,t){return re(e,{disabledIndices:t})}function qt(e,t){return re(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function re(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const s=e.current;let c=n;do{var l,a;c=c+(r?-i:i)}while(c>=0&&c<=s.length-1&&(o?o.includes(c):s[c]==null||(l=s[c])!=null&&l.hasAttribute("disabled")||((a=s[c])==null?void 0:a.getAttribute("aria-disabled"))==="true"));return c}function Lr(e,t){let{event:n,orientation:r,loop:o,cols:i,disabledIndices:s,minIndex:c,maxIndex:l,prevIndex:a,stopEvent:p=!1}=t,f=a;if(n.key===Ot){if(p&&te(n),a===-1)f=l;else if(f=re(e,{startingIndex:f,amount:i,decrement:!0,disabledIndices:s}),o&&(a-i<c||f<0)){const h=a%i,u=l%i,m=l-(u-h);u===h?f=l:f=u>h?m:m-i}Me(e,f)&&(f=a)}if(n.key===ct&&(p&&te(n),a===-1?f=c:(f=re(e,{startingIndex:a,amount:i,disabledIndices:s}),o&&a+i>l&&(f=re(e,{startingIndex:a%i-i,amount:i,disabledIndices:s}))),Me(e,f)&&(f=a)),r==="both"){const h=Oe(a/i);n.key===Be&&(p&&te(n),a%i!==i-1?(f=re(e,{startingIndex:a,disabledIndices:s}),o&&qe(f,i,h)&&(f=re(e,{startingIndex:a-a%i-1,disabledIndices:s}))):o&&(f=re(e,{startingIndex:a-a%i-1,disabledIndices:s})),qe(f,i,h)&&(f=a)),n.key===Ae&&(p&&te(n),a%i!==0?(f=re(e,{startingIndex:a,disabledIndices:s,decrement:!0}),o&&qe(f,i,h)&&(f=re(e,{startingIndex:a+(i-a%i),decrement:!0,disabledIndices:s}))):o&&(f=re(e,{startingIndex:a+(i-a%i),decrement:!0,disabledIndices:s})),qe(f,i,h)&&(f=a));const u=Oe(l/i)===h;Me(e,f)&&(o&&u?f=n.key===Ae?l:re(e,{startingIndex:a-a%i-1,disabledIndices:s}):f=a)}return f}let zt=0;function de(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(zt);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():zt=requestAnimationFrame(i)}var X=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Fr(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}function Dr(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}const En=d.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function lo(e){let{children:t,elementsRef:n,labelsRef:r}=e;const[o,i]=d.useState(()=>new Map),s=d.useCallback(l=>{i(a=>new Map(a).set(l,null))},[]),c=d.useCallback(l=>{i(a=>{const p=new Map(a);return p.delete(l),p})},[]);return X(()=>{const l=new Map(o);Array.from(l.keys()).sort(Fr).forEach((p,f)=>{l.set(p,f)}),Dr(o,l)||i(l)},[o]),d.createElement(En.Provider,{value:d.useMemo(()=>({register:s,unregister:c,map:o,elementsRef:n,labelsRef:r}),[s,c,o,n,r])},t)}function ao(e){let{label:t}=e===void 0?{}:e;const[n,r]=d.useState(null),o=d.useRef(null),{register:i,unregister:s,map:c,elementsRef:l,labelsRef:a}=d.useContext(En),p=d.useCallback(f=>{if(o.current=f,n!==null&&(l.current[n]=f,a)){var h;const u=t!==void 0;a.current[n]=u?t:(h=f==null?void 0:f.textContent)!=null?h:null}},[n,l,a,t]);return X(()=>{const f=o.current;if(f)return i(f),()=>{s(f)}},[i,s]),X(()=>{const f=o.current?c.get(o.current):null;f!=null&&r(f)},[c]),d.useMemo(()=>({ref:p,index:n??-1}),[n,p])}function Fe(){return Fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe.apply(this,arguments)}let ft=!1,Nr=0;const jt=()=>"floating-ui-"+Nr++;function Br(){const[e,t]=d.useState(()=>ft?jt():void 0);return X(()=>{e==null&&t(jt())},[]),d.useEffect(()=>{ft||(ft=!0)},[]),e}const Vr=tn["useId".toString()],Ve=Vr||Br;function Tn(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Cn=d.createContext(null),In=d.createContext(null),Ke=()=>{var e;return((e=d.useContext(Cn))==null?void 0:e.id)||null},Pe=()=>d.useContext(In);function fo(e){const t=Ve(),n=Pe(),r=Ke(),o=e||r;return X(()=>{const i={id:t,parentId:o};return n==null||n.addNode(i),()=>{n==null||n.removeNode(i)}},[n,t,o]),t}function mo(e){let{children:t,id:n}=e;const r=Ke();return d.createElement(Cn.Provider,{value:d.useMemo(()=>({id:n,parentId:r}),[n,r])},t)}function go(e){let{children:t}=e;const n=d.useRef([]),r=d.useCallback(s=>{n.current=[...n.current,s]},[]),o=d.useCallback(s=>{n.current=n.current.filter(c=>c!==s)},[]),i=d.useState(()=>Tn())[0];return d.createElement(In.Provider,{value:d.useMemo(()=>({nodesRef:n,addNode:r,removeNode:o,events:i}),[n,r,o,i])},t)}function Ce(e){return"data-floating-ui-"+e}function ae(e){const t=d.useRef(e);return X(()=>{t.current=e}),t}const $t=Ce("safe-polygon");function dt(e,t,n){return n&&!Ue(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function po(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:s,floating:c},refs:l}=e,{enabled:a=!0,delay:p=0,handleClose:f=null,mouseOnly:h=!1,restMs:u=0,move:m=!0}=t,v=Pe(),T=Ke(),b=ae(f),y=ae(p),P=d.useRef(),E=d.useRef(),R=d.useRef(),M=d.useRef(),B=d.useRef(!0),W=d.useRef(!1),k=d.useRef(()=>{}),S=d.useCallback(()=>{var g;const w=(g=o.current.openEvent)==null?void 0:g.type;return(w==null?void 0:w.includes("mouse"))&&w!=="mousedown"},[o]);d.useEffect(()=>{if(!a)return;function g(){clearTimeout(E.current),clearTimeout(M.current),B.current=!0}return i.on("dismiss",g),()=>{i.off("dismiss",g)}},[a,i]),d.useEffect(()=>{if(!a||!b.current||!n)return;function g(O){S()&&r(!1,O)}const w=oe(c).documentElement;return w.addEventListener("mouseleave",g),()=>{w.removeEventListener("mouseleave",g)}},[c,n,r,a,b,o,S]);const C=d.useCallback(function(g,w){w===void 0&&(w=!0);const O=dt(y.current,"close",P.current);O&&!R.current?(clearTimeout(E.current),E.current=setTimeout(()=>r(!1,g),O)):w&&(clearTimeout(E.current),r(!1,g))},[y,r]),I=d.useCallback(()=>{k.current(),R.current=void 0},[]),x=d.useCallback(()=>{if(W.current){const g=oe(l.floating.current).body;g.style.pointerEvents="",g.removeAttribute($t),W.current=!1}},[l]);return d.useEffect(()=>{if(!a)return;function g(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function w(A){if(clearTimeout(E.current),B.current=!1,h&&!Ue(P.current)||u>0&&dt(y.current,"open")===0)return;const q=dt(y.current,"open",P.current);q?E.current=setTimeout(()=>{r(!0,A)},q):r(!0,A)}function O(A){if(g())return;k.current();const q=oe(c);if(clearTimeout(M.current),b.current){n||clearTimeout(E.current),R.current=b.current({...e,tree:v,x:A.clientX,y:A.clientY,onClose(){x(),I(),C(A)}});const U=R.current;q.addEventListener("mousemove",U),k.current=()=>{q.removeEventListener("mousemove",U)};return}(P.current==="touch"?!Q(c,A.relatedTarget):!0)&&C(A)}function V(A){g()||b.current==null||b.current({...e,tree:v,x:A.clientX,y:A.clientY,onClose(){x(),I(),C(A)}})(A)}if(G(s)){const A=s;return n&&A.addEventListener("mouseleave",V),c==null||c.addEventListener("mouseleave",V),m&&A.addEventListener("mousemove",w,{once:!0}),A.addEventListener("mouseenter",w),A.addEventListener("mouseleave",O),()=>{n&&A.removeEventListener("mouseleave",V),c==null||c.removeEventListener("mouseleave",V),m&&A.removeEventListener("mousemove",w),A.removeEventListener("mouseenter",w),A.removeEventListener("mouseleave",O)}}},[s,c,a,e,h,u,m,C,I,x,r,n,v,y,b,o]),X(()=>{var g;if(a&&n&&(g=b.current)!=null&&g.__options.blockPointerEvents&&S()){const V=oe(c).body;if(V.setAttribute($t,""),V.style.pointerEvents="none",W.current=!0,G(s)&&c){var w,O;const A=s,q=v==null||(w=v.nodesRef.current.find(Y=>Y.id===T))==null||(O=w.context)==null?void 0:O.elements.floating;return q&&(q.style.pointerEvents=""),A.style.pointerEvents="auto",c.style.pointerEvents="auto",()=>{A.style.pointerEvents="",c.style.pointerEvents=""}}}},[a,n,T,c,s,v,b,o,S]),X(()=>{n||(P.current=void 0,I(),x())},[n,I,x]),d.useEffect(()=>()=>{I(),clearTimeout(E.current),clearTimeout(M.current),x()},[a,s,I,x]),d.useMemo(()=>{if(!a)return{};function g(w){P.current=w.pointerType}return{reference:{onPointerDown:g,onPointerEnter:g,onMouseMove(w){n||u===0||(clearTimeout(M.current),M.current=setTimeout(()=>{B.current||r(!0,w.nativeEvent)},u))}},floating:{onMouseEnter(){clearTimeout(E.current)},onMouseLeave(w){i.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),C(w.nativeEvent,!1)}}}},[i,a,u,n,r,C])}function Kr(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function xe(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function Wr(e,t){let n,r=-1;function o(i,s){s>r&&(n=i,r=s),xe(e,i).forEach(l=>{o(l.id,s+1)})}return o(t,0),e.find(i=>i.id===n)}let Ie=new WeakMap,ze=new WeakSet,je={},mt=0;const _r=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,On=e=>e&&(e.host||On(e.parentNode)),Hr=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=On(n);return e.contains(r)?r:null}).filter(n=>n!=null);function qr(e,t,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,s=Hr(t,e),c=new Set,l=new Set(s),a=[];je[o]||(je[o]=new WeakMap);const p=je[o];s.forEach(f),h(t),c.clear();function f(u){!u||c.has(u)||(c.add(u),u.parentNode&&f(u.parentNode))}function h(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,m=>{if(c.has(m))h(m);else{const v=i?m.getAttribute(i):null,T=v!==null&&v!=="false",b=(Ie.get(m)||0)+1,y=(p.get(m)||0)+1;Ie.set(m,b),p.set(m,y),a.push(m),b===1&&T&&ze.add(m),y===1&&m.setAttribute(o,""),!T&&i&&m.setAttribute(i,"true")}})}return mt++,()=>{a.forEach(u=>{const m=(Ie.get(u)||0)-1,v=(p.get(u)||0)-1;Ie.set(u,m),p.set(u,v),m||(!ze.has(u)&&i&&u.removeAttribute(i),ze.delete(u)),v||u.removeAttribute(o)}),mt--,mt||(Ie=new WeakMap,Ie=new WeakMap,ze=new WeakSet,je={})}}function Ut(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=oe(e[0]).body;return qr(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const St=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Sn(e,t){const n=It(e,St());t==="prev"&&n.reverse();const r=n.indexOf(le(oe(e)));return n.slice(r+1)[0]}function An(){return Sn(document.body,"next")}function Pn(){return Sn(document.body,"prev")}function ke(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Q(n,r)}function zr(e){It(e,St()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function jr(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const At={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let $r;function Xt(e){e.key==="Tab"&&(e.target,clearTimeout($r))}const tt=d.forwardRef(function(t,n){const[r,o]=d.useState();X(()=>(Et()&&o("button"),document.addEventListener("keydown",Xt),()=>{document.removeEventListener("keydown",Xt)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Ce("focus-guard")]:"",style:At};return d.createElement("span",Fe({},t,i))}),Mn=d.createContext(null);function Ur(e){let{id:t,root:n}=e===void 0?{}:e;const[r,o]=d.useState(null),i=Ve(),s=kn(),c=d.useMemo(()=>({id:t,root:n,portalContext:s,uniqueId:i}),[t,n,s,i]),l=d.useRef();return X(()=>()=>{r==null||r.remove()},[r,c]),X(()=>{if(l.current===c)return;l.current=c;const{id:a,root:p,portalContext:f,uniqueId:h}=c,u=a?document.getElementById(a):null,m=Ce("portal");if(u){const v=document.createElement("div");v.id=h,v.setAttribute(m,""),u.appendChild(v),o(v)}else{let v=p||(f==null?void 0:f.portalNode);v&&!G(v)&&(v=v.current),v=v||document.body;let T=null;a&&(T=document.createElement("div"),T.id=a,v.appendChild(T));const b=document.createElement("div");b.id=h,b.setAttribute(m,""),v=T||v,v.appendChild(b),o(b)}},[c]),r}function vo(e){let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=Ur({id:n,root:r}),[s,c]=d.useState(null),l=d.useRef(null),a=d.useRef(null),p=d.useRef(null),f=d.useRef(null),h=!!s&&!s.modal&&s.open&&o&&!!(r||i);return d.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function u(m){i&&ke(m)&&(m.type==="focusin"?jr:zr)(i)}return i.addEventListener("focusin",u,!0),i.addEventListener("focusout",u,!0),()=>{i.removeEventListener("focusin",u,!0),i.removeEventListener("focusout",u,!0)}},[i,o,s==null?void 0:s.modal]),d.createElement(Mn.Provider,{value:d.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:l,afterOutsideRef:a,beforeInsideRef:p,afterInsideRef:f,portalNode:i,setFocusManagerState:c}),[o,i])},h&&i&&d.createElement(tt,{"data-type":"outside",ref:l,onFocus:u=>{if(ke(u,i)){var m;(m=p.current)==null||m.focus()}else{const v=Pn()||(s==null?void 0:s.refs.domReference.current);v==null||v.focus()}}}),h&&i&&d.createElement("span",{"aria-owns":i.id,style:At}),i&&nn.createPortal(t,i),h&&i&&d.createElement(tt,{"data-type":"outside",ref:a,onFocus:u=>{if(ke(u,i)){var m;(m=f.current)==null||m.focus()}else{const v=An()||(s==null?void 0:s.refs.domReference.current);v==null||v.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,u.nativeEvent))}}}))}const kn=()=>d.useContext(Mn),Xr=d.forwardRef(function(t,n){return d.createElement("button",Fe({},t,{type:"button",ref:n,tabIndex:-1,style:At}))});function ho(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:c=!0,modal:l=!0,visuallyHiddenDismiss:a=!1,closeOnFocusOut:p=!0}=e,{open:f,refs:h,nodeId:u,onOpenChange:m,events:v,dataRef:T,elements:{domReference:b,floating:y}}=t,P=typeof s=="number"&&s<0,E=(b==null?void 0:b.getAttribute("role"))==="combobox"&&Tt(b)&&P,R=E?!1:l,M=_r()?i:!0,B=ae(o),W=ae(s),k=ae(c),S=Pe(),C=kn(),I=d.useRef(null),x=d.useRef(null),g=d.useRef(!1),w=d.useRef(null),O=d.useRef(!1),V=C!=null,A=d.useCallback(function(F){return F===void 0&&(F=y),F?It(F,St()):[]},[y]),q=d.useCallback(F=>{const D=A(F);return B.current.map(N=>b&&N==="reference"?b:y&&N==="floating"?y:D).filter(Boolean).flat()},[b,y,B,A]);d.useEffect(()=>{if(r||!R)return;function F(N){if(N.key==="Tab"){Q(y,le(oe(y)))&&A().length===0&&!E&&te(N);const K=q(),ee=rt(N);B.current[0]==="reference"&&ee===b&&(te(N),N.shiftKey?de(K[K.length-1]):de(K[1])),B.current[1]==="floating"&&ee===y&&N.shiftKey&&(te(N),de(K[0]))}}const D=oe(y);return D.addEventListener("keydown",F),()=>{D.removeEventListener("keydown",F)}},[r,b,y,R,B,h,E,A,q]),d.useEffect(()=>{if(r||!p)return;function F(){O.current=!0,setTimeout(()=>{O.current=!1})}function D(N){const K=N.relatedTarget;queueMicrotask(()=>{const ee=!(Q(b,K)||Q(y,K)||Q(K,y)||Q(C==null?void 0:C.portalNode,K)||K!=null&&K.hasAttribute(Ce("focus-guard"))||S&&(xe(S.nodesRef.current,u).find(z=>{var _,j;return Q((_=z.context)==null?void 0:_.elements.floating,K)||Q((j=z.context)==null?void 0:j.elements.domReference,K)})||Kr(S.nodesRef.current,u).find(z=>{var _,j;return((_=z.context)==null?void 0:_.elements.floating)===K||((j=z.context)==null?void 0:j.elements.domReference)===K})));K&&ee&&!O.current&&K!==w.current&&(g.current=!0,m(!1,N))})}if(y&&ne(b))return b.addEventListener("focusout",D),b.addEventListener("pointerdown",F),!R&&y.addEventListener("focusout",D),()=>{b.removeEventListener("focusout",D),b.removeEventListener("pointerdown",F),!R&&y.removeEventListener("focusout",D)}},[r,b,y,R,u,S,C,m,p]),d.useEffect(()=>{var F;if(r)return;const D=Array.from((C==null||(F=C.portalNode)==null?void 0:F.querySelectorAll("["+Ce("portal")+"]"))||[]);if(y){const N=[y,...D,I.current,x.current,B.current.includes("reference")||E?b:null].filter(ee=>ee!=null),K=l||E?Ut(N,M,!M):Ut(N);return()=>{K()}}},[r,b,y,l,B,C,E,M]),X(()=>{if(r||!y)return;const F=oe(y),D=le(F);queueMicrotask(()=>{const N=q(y),K=W.current,ee=(typeof K=="number"?N[K]:K.current)||y,z=Q(y,D);!P&&!z&&f&&de(ee,{preventScroll:ee===y})})},[r,f,y,P,q,W]),X(()=>{if(r||!y)return;let F=!1;const D=oe(y),N=le(D),K=T.current;w.current=N;function ee(z){if(z.type==="escapeKey"&&h.domReference.current&&(w.current=h.domReference.current),["referencePress","escapeKey"].includes(z.type))return;const _=z.data.returnFocus;typeof _=="object"?(g.current=!1,F=_.preventScroll):g.current=!_}return v.on("dismiss",ee),()=>{v.off("dismiss",ee);const z=le(D);(Q(y,z)||S&&xe(S.nodesRef.current,u).some(j=>{var H;return Q((H=j.context)==null?void 0:H.elements.floating,z)})||K.openEvent&&["click","mousedown"].includes(K.openEvent.type))&&h.domReference.current&&(w.current=h.domReference.current),k.current&&ne(w.current)&&!g.current&&de(w.current,{cancelPrevious:!1,preventScroll:F})}},[r,y,k,T,h,v,S,u]),X(()=>{if(!(r||!C))return C.setFocusManagerState({modal:R,closeOnFocusOut:p,open:f,onOpenChange:m,refs:h}),()=>{C.setFocusManagerState(null)}},[r,C,R,f,m,h,p]),X(()=>{if(r||!y||typeof MutationObserver!="function"||P)return;const F=()=>{const N=y.getAttribute("tabindex");B.current.includes("floating")||le(oe(y))!==h.domReference.current&&A().length===0?N!=="0"&&y.setAttribute("tabindex","0"):N!=="-1"&&y.setAttribute("tabindex","-1")};F();const D=new MutationObserver(F);return D.observe(y,{childList:!0,subtree:!0,attributes:!0}),()=>{D.disconnect()}},[r,y,h,B,A,P]);function Y(F){return r||!a||!R?null:d.createElement(Xr,{ref:F==="start"?I:x,onClick:D=>m(!1,D.nativeEvent)},typeof a=="string"?a:"Dismiss")}const U=!r&&M&&(V||R);return d.createElement(d.Fragment,null,U&&d.createElement(tt,{"data-type":"inside",ref:C==null?void 0:C.beforeInsideRef,onFocus:F=>{if(R){const N=q();de(o[0]==="reference"?N[0]:N[N.length-1])}else if(C!=null&&C.preserveTabOrder&&C.portalNode)if(g.current=!1,ke(F,C.portalNode)){const N=An()||b;N==null||N.focus()}else{var D;(D=C.beforeOutsideRef.current)==null||D.focus()}}}),!E&&Y("start"),n,Y("end"),U&&d.createElement(tt,{"data-type":"inside",ref:C==null?void 0:C.afterInsideRef,onFocus:F=>{if(R)de(q()[0]);else if(C!=null&&C.preserveTabOrder&&C.portalNode)if(p&&(g.current=!0),ke(F,C.portalNode)){const N=Pn()||b;N==null||N.focus()}else{var D;(D=C.afterOutsideRef.current)==null||D.focus()}}}))}const gt=new Set,bo=d.forwardRef(function(t,n){let{lockScroll:r=!1,...o}=t;const i=Ve();return X(()=>{if(!r)return;gt.add(i);const s=/iP(hone|ad|od)|iOS/.test(Rt()),c=document.body.style,a=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",p=window.innerWidth-document.documentElement.clientWidth,f=c.left?parseFloat(c.left):window.pageXOffset,h=c.top?parseFloat(c.top):window.pageYOffset;if(c.overflow="hidden",p&&(c[a]=p+"px"),s){var u,m;const v=((u=window.visualViewport)==null?void 0:u.offsetLeft)||0,T=((m=window.visualViewport)==null?void 0:m.offsetTop)||0;Object.assign(c,{position:"fixed",top:-(h-Math.floor(T))+"px",left:-(f-Math.floor(v))+"px",right:"0"})}return()=>{gt.delete(i),gt.size===0&&(Object.assign(c,{overflow:"",[a]:""}),s&&(Object.assign(c,{position:"",top:"",left:"",right:""}),window.scrollTo(f,h)))}},[i,r]),d.createElement("div",Fe({ref:n},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function Yt(e){return ne(e.target)&&e.target.tagName==="BUTTON"}function Gt(e){return Tt(e)}function yo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:c="click",toggle:l=!0,ignoreMouse:a=!1,keyboardHandlers:p=!0}=t,f=d.useRef(),h=d.useRef(!1);return d.useMemo(()=>s?{reference:{onPointerDown(u){f.current=u.pointerType},onMouseDown(u){u.button===0&&(Ue(f.current,!0)&&a||c!=="click"&&(n&&l&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,u.nativeEvent):(u.preventDefault(),r(!0,u.nativeEvent))))},onClick(u){if(c==="mousedown"&&f.current){f.current=void 0;return}Ue(f.current,!0)&&a||(n&&l&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,u.nativeEvent):r(!0,u.nativeEvent))},onKeyDown(u){f.current=void 0,!(u.defaultPrevented||!p||Yt(u))&&(u.key===" "&&!Gt(i)&&(u.preventDefault(),h.current=!0),u.key==="Enter"&&r(!(n&&l),u.nativeEvent))},onKeyUp(u){u.defaultPrevented||!p||Yt(u)||Gt(i)||u.key===" "&&h.current&&(h.current=!1,r(!(n&&l),u.nativeEvent))}}}:{},[s,o,c,a,p,i,l,n,r])}const Yr=tn["useInsertionEffect".toString()],Gr=Yr||(e=>e());function he(e){const t=d.useRef(()=>{});return Gr(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const Zr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Jr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Qr=e=>{var t,n;return{escapeKeyBubbles:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePressBubbles:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function wo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:s,domReference:c,floating:l},dataRef:a}=e,{enabled:p=!0,escapeKey:f=!0,outsidePress:h=!0,outsidePressEvent:u="pointerdown",referencePress:m=!1,referencePressEvent:v="pointerdown",ancestorScroll:T=!1,bubbles:b}=t,y=Pe(),P=Ke()!=null,E=he(typeof h=="function"?h:()=>!1),R=typeof h=="function"?E:h,M=d.useRef(!1),B=d.useRef(!1),{escapeKeyBubbles:W,outsidePressBubbles:k}=Qr(b),S=he(I=>{if(!n||!p||!f||I.key!=="Escape")return;const x=y?xe(y.nodesRef.current,i):[];if(!W&&(I.stopPropagation(),x.length>0)){let g=!0;if(x.forEach(w=>{var O;if((O=w.context)!=null&&O.open&&!w.context.dataRef.current.__escapeKeyBubbles){g=!1;return}}),!g)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,Kn(I)?I.nativeEvent:I)}),C=he(I=>{const x=M.current;M.current=!1;const g=B.current;if(B.current=!1,u==="click"&&g||x||typeof R=="function"&&!R(I))return;const w=rt(I),O="["+Ce("inert")+"]",V=oe(l).querySelectorAll(O);let A=G(w)?w:null;for(;A&&!Ne(A);){const U=Re(A);if(U===oe(l).body||!G(U))break;A=U}if(V.length&&G(w)&&!Wn(w)&&!Q(w,l)&&Array.from(V).every(U=>!Q(A,U)))return;if(ne(w)&&l){const U=w.clientWidth>0&&w.scrollWidth>w.clientWidth,F=w.clientHeight>0&&w.scrollHeight>w.clientHeight;let D=F&&I.offsetX>w.clientWidth;if(F&&se(w).direction==="rtl"&&(D=I.offsetX<=w.offsetWidth-w.clientWidth),D||U&&I.offsetY>w.clientHeight)return}const q=y&&xe(y.nodesRef.current,i).some(U=>{var F;return lt(I,(F=U.context)==null?void 0:F.elements.floating)});if(lt(I,l)||lt(I,c)||q)return;const Y=y?xe(y.nodesRef.current,i):[];if(Y.length>0){let U=!0;if(Y.forEach(F=>{var D;if((D=F.context)!=null&&D.open&&!F.context.dataRef.current.__outsidePressBubbles){U=!1;return}}),!U)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:P?{preventScroll:!0}:sn(I)||cn(I)}}),r(!1,I)});return d.useEffect(()=>{if(!n||!p)return;a.current.__escapeKeyBubbles=W,a.current.__outsidePressBubbles=k;function I(w){r(!1,w)}const x=oe(l);f&&x.addEventListener("keydown",S),R&&x.addEventListener(u,C);let g=[];return T&&(G(c)&&(g=ve(c)),G(l)&&(g=g.concat(ve(l))),!G(s)&&s&&s.contextElement&&(g=g.concat(ve(s.contextElement)))),g=g.filter(w=>{var O;return w!==((O=x.defaultView)==null?void 0:O.visualViewport)}),g.forEach(w=>{w.addEventListener("scroll",I,{passive:!0})}),()=>{f&&x.removeEventListener("keydown",S),R&&x.removeEventListener(u,C),g.forEach(w=>{w.removeEventListener("scroll",I)})}},[a,l,c,s,f,R,u,n,r,T,p,W,k,S,C]),d.useEffect(()=>{M.current=!1},[R,u]),d.useMemo(()=>p?{reference:{onKeyDown:S,[Zr[v]]:I=>{m&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,I.nativeEvent))}},floating:{onKeyDown:S,onMouseDown(){B.current=!0},onMouseUp(){B.current=!0},[Jr[u]]:()=>{M.current=!0}}}:{},[p,o,m,u,v,r,S])}function xo(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,s]=d.useState(null),c=((t=e.elements)==null?void 0:t.reference)||i,l=gr(e),a=Pe(),p=he((E,R)=>{E&&(h.current.openEvent=R),r==null||r(E,R)}),f=d.useRef(null),h=d.useRef({}),u=d.useState(()=>Tn())[0],m=Ve(),v=d.useCallback(E=>{const R=G(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;l.refs.setReference(R)},[l.refs]),T=d.useCallback(E=>{(G(E)||E===null)&&(f.current=E,s(E)),(G(l.refs.reference.current)||l.refs.reference.current===null||E!==null&&!G(E))&&l.refs.setReference(E)},[l.refs]),b=d.useMemo(()=>({...l.refs,setReference:T,setPositionReference:v,domReference:f}),[l.refs,T,v]),y=d.useMemo(()=>({...l.elements,domReference:c}),[l.elements,c]),P=d.useMemo(()=>({...l,refs:b,elements:y,dataRef:h,nodeId:o,floatingId:m,events:u,open:n,onOpenChange:p}),[l,o,m,u,n,p,b,y]);return X(()=>{const E=a==null?void 0:a.nodesRef.current.find(R=>R.id===o);E&&(E.context=P)}),d.useMemo(()=>({...l,context:P,refs:b,elements:y}),[l,b,y,P])}function Ro(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,refs:i,elements:{floating:s,domReference:c}}=e,{enabled:l=!0,visibleOnly:a=!0}=t,p=d.useRef(!1),f=d.useRef(),h=d.useRef(!1);return d.useEffect(()=>{if(!l)return;const u=ie(c);function m(){!n&&ne(c)&&c===le(oe(c))&&(p.current=!0)}function v(){h.current=!0}return u.addEventListener("blur",m),u.addEventListener("keydown",v,!0),()=>{u.removeEventListener("blur",m),u.removeEventListener("keydown",v,!0)}},[s,c,n,l]),d.useEffect(()=>{if(!l)return;function u(m){(m.type==="referencePress"||m.type==="escapeKey")&&(p.current=!0)}return o.on("dismiss",u),()=>{o.off("dismiss",u)}},[o,l]),d.useEffect(()=>()=>{clearTimeout(f.current)},[]),d.useMemo(()=>l?{reference:{onPointerDown(){h.current=!1},onMouseLeave(){p.current=!1},onFocus(u){if(p.current)return;const m=rt(u.nativeEvent);if(a&&G(m))try{if(Et())throw Error();if(!m.matches(":focus-visible"))return}catch{if(!h.current&&!Tt(m))return}r(!0,u.nativeEvent)},onBlur(u){p.current=!1;const m=u.relatedTarget,v=G(m)&&m.hasAttribute(Ce("focus-guard"))&&m.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{const T=le(c?c.ownerDocument:document);!m&&T===c||Q(i.floating.current,m)||Q(c,m)||v||r(!1,u.nativeEvent)})}}}:{},[l,a,c,i,r])}function pt(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(s=>{let[c,l]=s;if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof l=="function"){var a;(a=r.get(c))==null||a.push(l),o[c]=function(){for(var p,f=arguments.length,h=new Array(f),u=0;u<f;u++)h[u]=arguments[u];return(p=r.get(c))==null?void 0:p.map(m=>m(...h)).find(m=>m!==void 0)}}}else o[c]=l}),o),{})}}function Eo(e){e===void 0&&(e=[]);const t=e,n=d.useCallback(i=>pt(i,e,"reference"),t),r=d.useCallback(i=>pt(i,e,"floating"),t),o=d.useCallback(i=>pt(i,e,"item"),e.map(i=>i==null?void 0:i.item));return d.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}let Zt=!1;function ut(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Jt(e,t){return ut(t,e===Ot||e===ct,e===Ae||e===Be)}function vt(e,t,n){return ut(t,e===ct,n?e===Ae:e===Be)||e==="Enter"||e==" "||e===""}function eo(e,t,n){return ut(t,n?e===Ae:e===Be,e===ct)}function Qt(e,t,n){return ut(t,n?e===Be:e===Ae,e===Ot)}function To(e,t){const{open:n,onOpenChange:r,refs:o,elements:{domReference:i,floating:s}}=e,{listRef:c,activeIndex:l,onNavigate:a=()=>{},enabled:p=!0,selectedIndex:f=null,allowEscape:h=!1,loop:u=!1,nested:m=!1,rtl:v=!1,virtual:T=!1,focusItemOnOpen:b="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:P=!0,disabledIndices:E=void 0,orientation:R="vertical",cols:M=1,scrollItemIntoView:B=!0,virtualItemRef:W}=t,k=Ke(),S=Pe(),C=he(a),I=d.useRef(b),x=d.useRef(f??-1),g=d.useRef(null),w=d.useRef(!0),O=d.useRef(C),V=d.useRef(!!s),A=d.useRef(!1),q=d.useRef(!1),Y=ae(E),U=ae(n),F=ae(B),[D,N]=d.useState(),[K,ee]=d.useState(),z=he(function(H,J,$){$===void 0&&($=!1);const Z=H.current[J.current];Z&&(T?(N(Z.id),S==null||S.events.emit("virtualfocus",Z),W&&(W.current=Z)):de(Z,{preventScroll:!0,sync:Vn()&&Et()?Zt||A.current:!1}),requestAnimationFrame(()=>{const ge=F.current;ge&&Z&&($||!w.current)&&(Z.scrollIntoView==null||Z.scrollIntoView(typeof ge=="boolean"?{block:"nearest",inline:"nearest"}:ge))}))});X(()=>{document.createElement("div").focus({get preventScroll(){return Zt=!0,!1}})},[]),X(()=>{p&&(n&&s?I.current&&f!=null&&(q.current=!0,C(f)):V.current&&(x.current=-1,O.current(null)))},[p,n,s,f,C]),X(()=>{if(p&&n&&s)if(l==null){if(A.current=!1,f!=null)return;if(V.current&&(x.current=-1,z(c,x)),!V.current&&I.current&&(g.current!=null||I.current===!0&&g.current==null)){let H=0;const J=()=>{c.current[0]==null?(H<2&&(H?requestAnimationFrame:queueMicrotask)(J),H++):(x.current=g.current==null||vt(g.current,R,v)||m?at(c,Y.current):qt(c,Y.current),g.current=null,C(x.current))};J()}}else Me(c,l)||(x.current=l,z(c,x,q.current),q.current=!1)},[p,n,s,l,f,m,c,R,v,C,z,Y]),X(()=>{var H,J;if(!p||s||!S||T||!V.current)return;const $=S.nodesRef.current,Z=(H=$.find(L=>L.id===k))==null||(J=H.context)==null?void 0:J.elements.floating,ge=le(oe(s)),We=$.some(L=>L.context&&Q(L.context.elements.floating,ge));Z&&!We&&w.current&&Z.focus({preventScroll:!0})},[p,s,S,k,T]),X(()=>{if(!p||!S||!T||k)return;function H(J){ee(J.id),W&&(W.current=J)}return S.events.on("virtualfocus",H),()=>{S.events.off("virtualfocus",H)}},[p,S,T,k,W]),X(()=>{O.current=C,V.current=!!s}),X(()=>{n||(g.current=null)},[n]);const _=l!=null,j=d.useMemo(()=>{function H($){if(!n)return;const Z=c.current.indexOf($);Z!==-1&&C(Z)}return{onFocus($){let{currentTarget:Z}=$;H(Z)},onClick:$=>{let{currentTarget:Z}=$;return Z.focus({preventScroll:!0})},...y&&{onMouseMove($){let{currentTarget:Z}=$;H(Z)},onPointerLeave($){let{pointerType:Z}=$;!w.current||Z==="touch"||(x.current=-1,z(c,x),C(null),T||de(o.floating.current,{preventScroll:!0}))}}}},[n,o,z,y,c,C,T]);return d.useMemo(()=>{if(!p)return{};const H=Y.current;function J(L){if(w.current=!1,A.current=!0,!U.current&&L.currentTarget===o.floating.current)return;if(m&&Qt(L.key,R,v)){te(L),r(!1,L.nativeEvent),ne(i)&&!T&&i.focus();return}const ce=x.current,ue=at(c,H),fe=qt(c,H);if(L.key==="Home"&&(te(L),x.current=ue,C(x.current)),L.key==="End"&&(te(L),x.current=fe,C(x.current)),!(M>1&&(x.current=Lr(c,{event:L,orientation:R,loop:u,cols:M,disabledIndices:H,minIndex:ue,maxIndex:fe,prevIndex:x.current,stopEvent:!0}),C(x.current),R==="both"))&&Jt(L.key,R)){if(te(L),n&&!T&&le(L.currentTarget.ownerDocument)===L.currentTarget){x.current=vt(L.key,R,v)?ue:fe,C(x.current);return}vt(L.key,R,v)?u?x.current=ce>=fe?h&&ce!==c.current.length?-1:ue:re(c,{startingIndex:ce,disabledIndices:H}):x.current=Math.min(fe,re(c,{startingIndex:ce,disabledIndices:H})):u?x.current=ce<=ue?h&&ce!==-1?c.current.length:fe:re(c,{startingIndex:ce,decrement:!0,disabledIndices:H}):x.current=Math.max(ue,re(c,{startingIndex:ce,decrement:!0,disabledIndices:H})),Me(c,x.current)?C(null):C(x.current)}}function $(L){b==="auto"&&sn(L.nativeEvent)&&(I.current=!0)}function Z(L){I.current=b,b==="auto"&&cn(L.nativeEvent)&&(I.current=!0)}const ge=T&&n&&_&&{"aria-activedescendant":K||D},We=c.current.find(L=>(L==null?void 0:L.id)===D);return{reference:{...ge,onKeyDown(L){w.current=!1;const ce=L.key.indexOf("Arrow")===0,ue=eo(L.key,R,v),fe=Qt(L.key,R,v),_e=Jt(L.key,R),Ln=(m?ue:_e)||L.key==="Enter"||L.key.trim()==="";if(T&&n){const Lt=S==null?void 0:S.nodesRef.current.find(He=>He.parentId==null),pe=S&&Lt?Wr(S.nodesRef.current,Lt.id):null;if(ce&&pe&&W){const He=new KeyboardEvent("keydown",{key:L.key,bubbles:!0});if(ue||fe){var Pt,Mt;const Fn=((Pt=pe.context)==null?void 0:Pt.elements.domReference)===L.currentTarget,Ft=fe&&!Fn?(Mt=pe.context)==null?void 0:Mt.elements.domReference:ue?We:null;Ft&&(te(L),Ft.dispatchEvent(He),ee(void 0))}if(_e&&pe.context&&pe.context.open&&pe.parentId&&L.currentTarget!==pe.context.elements.domReference){var kt;te(L),(kt=pe.context.elements.domReference)==null||kt.dispatchEvent(He);return}}return J(L)}if(!(!n&&!P&&ce)){if(Ln&&(g.current=m&&_e?null:L.key),m){ue&&(te(L),n?(x.current=at(c,H),C(x.current)):r(!0,L.nativeEvent));return}_e&&(f!=null&&(x.current=f),te(L),!n&&P?r(!0,L.nativeEvent):J(L),n&&C(x.current))}},onFocus(){n&&C(null)},onPointerDown:Z,onMouseDown:$,onClick:$},floating:{"aria-orientation":R==="both"?void 0:R,...ge,onKeyDown:J,onPointerMove(){w.current=!0}},item:j}},[i,o,D,K,Y,U,c,p,R,v,T,n,_,m,f,P,h,M,u,b,C,r,j,S,W])}function Co(e,t){t===void 0&&(t={});const{open:n,floatingId:r}=e,{enabled:o=!0,role:i="dialog"}=t,s=Ve();return d.useMemo(()=>{const c={id:r,role:i};return o?i==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:c}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?r:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...c,...i==="menu"&&{"aria-labelledby":s}}}:{}},[o,i,n,r,s])}function Io(e,t){var n;const{open:r,dataRef:o}=e,{listRef:i,activeIndex:s,onMatch:c,onTypingChange:l,enabled:a=!0,findMatch:p=null,resetMs:f=750,ignoreKeys:h=[],selectedIndex:u=null}=t,m=d.useRef(),v=d.useRef(""),T=d.useRef((n=u??s)!=null?n:-1),b=d.useRef(null),y=he(c),P=he(l),E=ae(p),R=ae(h);return X(()=>{r&&(clearTimeout(m.current),b.current=null,v.current="")},[r]),X(()=>{if(r&&v.current===""){var M;T.current=(M=u??s)!=null?M:-1}},[r,u,s]),d.useMemo(()=>{if(!a)return{};function M(k){k?o.current.typing||(o.current.typing=k,P(k)):o.current.typing&&(o.current.typing=k,P(k))}function B(k,S,C){const I=E.current?E.current(S,C):S.find(x=>(x==null?void 0:x.toLocaleLowerCase().indexOf(C.toLocaleLowerCase()))===0);return I?k.indexOf(I):-1}function W(k){const S=i.current;if(v.current.length>0&&v.current[0]!==" "&&(B(S,S,v.current)===-1?M(!1):k.key===" "&&te(k)),S==null||R.current.includes(k.key)||k.key.length!==1||k.ctrlKey||k.metaKey||k.altKey)return;r&&k.key!==" "&&(te(k),M(!0)),S.every(g=>{var w,O;return g?((w=g[0])==null?void 0:w.toLocaleLowerCase())!==((O=g[1])==null?void 0:O.toLocaleLowerCase()):!0})&&v.current===k.key&&(v.current="",T.current=b.current),v.current+=k.key,clearTimeout(m.current),m.current=setTimeout(()=>{v.current="",T.current=b.current,M(!1)},f);const I=T.current,x=B(S,[...S.slice((I||0)+1),...S.slice(0,(I||0)+1)],v.current);x!==-1?(y(x),b.current=x):k.key!==" "&&(v.current="",M(!1))}return{reference:{onKeyDown:W},floating:{onKeyDown:W,onKeyUp(k){k.key===" "&&M(!1)}}}},[a,r,o,i,f,R,E,y,P])}function en(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,c=i-1;s<i;c=s++){const[l,a]=t[s]||[0,0],[p,f]=t[c]||[0,0];a>=r!=f>=r&&n<=(p-l)*(r-a)/(f-a)+l&&(o=!o)}return o}function to(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Oo(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,s=null,c=null,l=performance.now();function a(f,h){const u=performance.now(),m=u-l;if(s===null||c===null||m===0)return s=f,c=h,l=u,null;const v=f-s,T=h-c,y=Math.sqrt(v*v+T*T)/m;return s=f,c=h,l=u,y}const p=f=>{let{x:h,y:u,placement:m,elements:v,onClose:T,nodeId:b,tree:y}=f;return function(E){function R(){clearTimeout(o),T()}if(clearTimeout(o),!v.domReference||!v.floating||m==null||h==null||u==null)return;const{clientX:M,clientY:B}=E,W=[M,B],k=rt(E),S=E.type==="mouseleave",C=Q(v.floating,k),I=Q(v.domReference,k),x=v.domReference.getBoundingClientRect(),g=v.floating.getBoundingClientRect(),w=m.split("-")[0],O=h>g.right-g.width/2,V=u>g.bottom-g.height/2,A=to(W,x),q=g.width>x.width,Y=g.height>x.height,U=(q?x:g).left,F=(q?x:g).right,D=(Y?x:g).top,N=(Y?x:g).bottom;if(C&&(i=!0,!S))return;if(I&&(i=!1),I&&!S){i=!0;return}if(S&&G(E.relatedTarget)&&Q(v.floating,E.relatedTarget)||y&&xe(y.nodesRef.current,b).some(z=>{let{context:_}=z;return _==null?void 0:_.open}))return;if(w==="top"&&u>=x.bottom-1||w==="bottom"&&u<=x.top+1||w==="left"&&h>=x.right-1||w==="right"&&h<=x.left+1)return R();let K=[];switch(w){case"top":K=[[U,x.top+1],[U,g.bottom-1],[F,g.bottom-1],[F,x.top+1]];break;case"bottom":K=[[U,g.top+1],[U,x.bottom-1],[F,x.bottom-1],[F,g.top+1]];break;case"left":K=[[g.right-1,N],[g.right-1,D],[x.left+1,D],[x.left+1,N]];break;case"right":K=[[x.right-1,N],[x.right-1,D],[g.left+1,D],[g.left+1,N]];break}function ee(z){let[_,j]=z;switch(w){case"top":{const H=[q?_+t/2:O?_+t*4:_-t*4,j+t+1],J=[q?_-t/2:O?_+t*4:_-t*4,j+t+1],$=[[g.left,O||q?g.bottom-t:g.top],[g.right,O?q?g.bottom-t:g.top:g.bottom-t]];return[H,J,...$]}case"bottom":{const H=[q?_+t/2:O?_+t*4:_-t*4,j-t],J=[q?_-t/2:O?_+t*4:_-t*4,j-t],$=[[g.left,O||q?g.top+t:g.bottom],[g.right,O?q?g.top+t:g.bottom:g.top+t]];return[H,J,...$]}case"left":{const H=[_+t+1,Y?j+t/2:V?j+t*4:j-t*4],J=[_+t+1,Y?j-t/2:V?j+t*4:j-t*4];return[...[[V||Y?g.right-t:g.left,g.top],[V?Y?g.right-t:g.left:g.right-t,g.bottom]],H,J]}case"right":{const H=[_-t,Y?j+t/2:V?j+t*4:j-t*4],J=[_-t,Y?j-t/2:V?j+t*4:j-t*4],$=[[V||Y?g.left+t:g.right,g.top],[V?Y?g.left+t:g.right:g.left+t,g.bottom]];return[H,J,...$]}}}if(!en([M,B],K)){if(i&&!A)return R();if(!S&&r){const z=a(E.clientX,E.clientY);if(z!==null&&z<.1)return R()}en([M,B],ee([h,u]))?!i&&r&&(o=window.setTimeout(R,40)):R()}}};return p.__options={blockPointerEvents:n},p}export{vo as F,co as a,po as b,Ro as c,wo as d,Co as e,oo as f,Eo as g,uo as h,yo as i,Ve as j,ho as k,Pe as l,fo as m,Ke as n,io as o,ao as p,Oo as q,To as r,so as s,Io as t,xo as u,mo as v,lo as w,go as x,bo as y};
//# sourceMappingURL=floating-ui.react-2c0a59ad.js.map
