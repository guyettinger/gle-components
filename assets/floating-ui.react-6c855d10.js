import{r as d,a as rn}from"./index-76fb7be0.js";import{r as on}from"./index-d3ea75b5.js";function ye(e){return sn(e)?(e.nodeName||"").toLowerCase():"#document"}function ie(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ge(e){var t;return(t=(sn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sn(e){return e instanceof Node||e instanceof ie(e).Node}function G(e){return e instanceof Element||e instanceof ie(e).Element}function ne(e){return e instanceof HTMLElement||e instanceof ie(e).HTMLElement}function ht(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ie(e).ShadowRoot}function Ne(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=se(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Kn(e){return["table","td","th"].includes(ye(e))}function wt(e){const t=xt(),n=se(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Bn(e){let t=Ee(e);for(;ne(t)&&!Ke(t);){if(wt(t))return t;t=Ee(t)}return null}function xt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ke(e){return["html","body","#document"].includes(ye(e))}function se(e){return ie(e).getComputedStyle(e)}function rt(e){return G(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ee(e){if(ye(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ht(e)&&e.host||ge(e);return ht(t)?t.host:t}function cn(e){const t=Ee(e);return Ke(t)?e.ownerDocument?e.ownerDocument.body:e.body:ne(t)&&Ne(t)?t:cn(t)}function be(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=cn(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ie(o);return i?t.concat(s,s.visualViewport||[],Ne(o)?o:[],s.frameElement&&n?be(s.frameElement):[]):t.concat(o,be(o,[],n))}function le(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function ee(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ht(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Rt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Vn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function un(e){return e.mozInputSource===0&&e.isTrusted?!0:ln()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Et(e){return!ln()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function Tt(){return/apple/i.test(navigator.vendor)}function ln(){const e=/android/i;return e.test(Rt())||e.test(Vn())}function an(){return Rt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function ze(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Wn(e){return"nativeEvent"in e}function _n(e){return e.matches("html,body")}function oe(e){return(e==null?void 0:e.ownerDocument)||document}function lt(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function he(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Hn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Ct(e){return ne(e)&&e.matches(Hn)}function te(e){e.preventDefault(),e.stopPropagation()}const Ye=Math.min,xe=Math.max,Ge=Math.round,Se=Math.floor,we=e=>({x:e,y:e}),qn={left:"right",right:"left",bottom:"top",top:"bottom"},jn={start:"end",end:"start"};function Nt(e,t,n){return xe(e,Ye(t,n))}function ot(e,t){return typeof e=="function"?e(t):e}function Te(e){return e.split("-")[0]}function it(e){return e.split("-")[1]}function fn(e){return e==="x"?"y":"x"}function dn(e){return e==="y"?"height":"width"}function st(e){return["top","bottom"].includes(Te(e))?"y":"x"}function mn(e){return fn(st(e))}function $n(e,t,n){n===void 0&&(n=!1);const r=it(e),o=mn(e),i=dn(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Ze(s)),[s,Ze(s)]}function Un(e){const t=Ze(e);return[bt(e),t,bt(t)]}function bt(e){return e.replace(/start|end/g,t=>jn[t])}function Xn(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function zn(e,t,n,r){const o=it(e);let i=Xn(Te(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(bt)))),i}function Ze(e){return e.replace(/left|right|bottom|top/g,t=>qn[t])}function Yn(e){return{top:0,right:0,bottom:0,left:0,...e}}function Gn(e){return typeof e!="number"?Yn(e):{top:e,right:e,bottom:e,left:e}}function Je(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Kt(e,t,n){let{reference:r,floating:o}=e;const i=st(t),s=mn(t),c=dn(s),l=Te(t),a=i==="y",g=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,v=r[c]/2-o[c]/2;let u;switch(l){case"top":u={x:g,y:r.y-o.height};break;case"bottom":u={x:g,y:r.y+r.height};break;case"right":u={x:r.x+r.width,y:f};break;case"left":u={x:r.x-o.width,y:f};break;default:u={x:r.x,y:r.y}}switch(it(t)){case"start":u[s]-=v*(n&&a?-1:1);break;case"end":u[s]+=v*(n&&a?-1:1);break}return u}const Zn=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:f}=Kt(a,r,l),v=r,u={},m=0;for(let p=0;p<c.length;p++){const{name:T,fn:b}=c[p],{x:y,y:P,data:R,reset:x}=await b({x:g,y:f,initialPlacement:r,placement:v,strategy:o,middlewareData:u,rects:a,platform:s,elements:{reference:e,floating:t}});if(g=y??g,f=P??f,u={...u,[T]:{...u[T],...R}},x&&m<=50){m++,typeof x=="object"&&(x.placement&&(v=x.placement),x.rects&&(a=x.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):x.rects),{x:g,y:f}=Kt(a,v,l)),p=-1;continue}}return{x:g,y:f,placement:v,strategy:o,middlewareData:u}};async function gn(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:l}=e,{boundary:a="clippingAncestors",rootBoundary:g="viewport",elementContext:f="floating",altBoundary:v=!1,padding:u=0}=ot(t,e),m=Gn(u),T=c[v?f==="floating"?"reference":"floating":f],b=Je(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:a,rootBoundary:g,strategy:l})),y=f==="floating"?{...s.floating,x:r,y:o}:s.reference,P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),R=await(i.isElement==null?void 0:i.isElement(P))?await(i.getScale==null?void 0:i.getScale(P))||{x:1,y:1}:{x:1,y:1},x=Je(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:P,strategy:l}):y);return{top:(b.top-x.top+m.top)/R.y,bottom:(x.bottom-b.bottom+m.bottom)/R.y,left:(b.left-x.left+m.left)/R.x,right:(x.right-b.right+m.right)/R.x}}const oo=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:l,elements:a}=t,{mainAxis:g=!0,crossAxis:f=!0,fallbackPlacements:v,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...T}=ot(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Te(o),y=Te(c)===c,P=await(l.isRTL==null?void 0:l.isRTL(a.floating)),R=v||(y||!p?[Ze(c)]:Un(c));!v&&m!=="none"&&R.push(...zn(c,p,m,P));const x=[c,...R],L=await gn(t,T),W=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&W.push(L[b]),f){const N=$n(o,s,P);W.push(L[N[0]],L[N[1]])}if(j=[...j,{placement:o,overflows:W}],!W.every(N=>N<=0)){var F,M;const N=(((F=i.flip)==null?void 0:F.index)||0)+1,w=x[N];if(w)return{data:{index:N,overflows:j},reset:{placement:w}};let h=(M=j.filter(O=>O.overflows[0]<=0).sort((O,A)=>O.overflows[1]-A.overflows[1])[0])==null?void 0:M.placement;if(!h)switch(u){case"bestFit":{var E;const O=(E=j.map(A=>[A.placement,A.overflows.filter(C=>C>0).reduce((C,I)=>C+I,0)]).sort((A,C)=>A[1]-C[1])[0])==null?void 0:E[0];O&&(h=O);break}case"initialPlacement":h=c;break}if(o!==h)return{reset:{placement:h}}}return{}}}};async function Jn(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Te(n),c=it(n),l=st(n)==="y",a=["left","top"].includes(s)?-1:1,g=i&&l?-1:1,f=ot(t,e);let{mainAxis:v,crossAxis:u,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return c&&typeof m=="number"&&(u=c==="end"?m*-1:m),l?{x:u*g,y:v*a}:{x:v*a,y:u*g}}const io=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await Jn(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},so=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:T=>{let{x:b,y}=T;return{x:b,y}}},...l}=ot(e,t),a={x:n,y:r},g=await gn(t,l),f=st(Te(o)),v=fn(f);let u=a[v],m=a[f];if(i){const T=v==="y"?"top":"left",b=v==="y"?"bottom":"right",y=u+g[T],P=u-g[b];u=Nt(y,u,P)}if(s){const T=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=m+g[T],P=m-g[b];m=Nt(y,m,P)}const p=c.fn({...t,[v]:u,[f]:m});return{...p,data:{x:p.x-n,y:p.y-r}}}}};function pn(e){const t=se(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ne(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=Ge(n)!==i||Ge(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function It(e){return G(e)?e:e.contextElement}function Ae(e){const t=It(e);if(!ne(t))return we(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=pn(t);let s=(i?Ge(n.width):n.width)/r,c=(i?Ge(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const Qn=we(0);function vn(e){const t=ie(e);return!xt()||!t.visualViewport?Qn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function er(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ie(e)?!1:t}function Ce(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=It(e);let s=we(1);t&&(r?G(r)&&(s=Ae(r)):s=Ae(e));const c=er(i,n,r)?vn(i):we(0);let l=(o.left+c.x)/s.x,a=(o.top+c.y)/s.y,g=o.width/s.x,f=o.height/s.y;if(i){const v=ie(i),u=r&&G(r)?ie(r):r;let m=v.frameElement;for(;m&&r&&u!==v;){const p=Ae(m),T=m.getBoundingClientRect(),b=se(m),y=T.left+(m.clientLeft+parseFloat(b.paddingLeft))*p.x,P=T.top+(m.clientTop+parseFloat(b.paddingTop))*p.y;l*=p.x,a*=p.y,g*=p.x,f*=p.y,l+=y,a+=P,m=ie(m).frameElement}}return Je({width:g,height:f,x:l,y:a})}function tr(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=ne(n),i=ge(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},c=we(1);const l=we(0);if((o||!o&&r!=="fixed")&&((ye(n)!=="body"||Ne(i))&&(s=rt(n)),ne(n))){const a=Ce(n);c=Ae(n),l.x=a.x+n.clientLeft,l.y=a.y+n.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-s.scrollLeft*c.x+l.x,y:t.y*c.y-s.scrollTop*c.y+l.y}}function nr(e){return Array.from(e.getClientRects())}function hn(e){return Ce(ge(e)).left+rt(e).scrollLeft}function rr(e){const t=ge(e),n=rt(e),r=e.ownerDocument.body,o=xe(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=xe(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+hn(e);const c=-n.scrollTop;return se(r).direction==="rtl"&&(s+=xe(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}function or(e,t){const n=ie(e),r=ge(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,l=0;if(o){i=o.width,s=o.height;const a=xt();(!a||a&&t==="fixed")&&(c=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:c,y:l}}function ir(e,t){const n=Ce(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=ne(e)?Ae(e):we(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,l=o*i.x,a=r*i.y;return{width:s,height:c,x:l,y:a}}function Bt(e,t,n){let r;if(t==="viewport")r=or(e,n);else if(t==="document")r=rr(ge(e));else if(G(t))r=ir(t,n);else{const o=vn(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Je(r)}function bn(e,t){const n=Ee(e);return n===t||!G(n)||Ke(n)?!1:se(n).position==="fixed"||bn(n,t)}function sr(e,t){const n=t.get(e);if(n)return n;let r=be(e,[],!1).filter(c=>G(c)&&ye(c)!=="body"),o=null;const i=se(e).position==="fixed";let s=i?Ee(e):e;for(;G(s)&&!Ke(s);){const c=se(s),l=wt(s);!l&&c.position==="fixed"&&(o=null),(i?!l&&!o:!l&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ne(s)&&!l&&bn(e,s))?r=r.filter(g=>g!==s):o=c,s=Ee(s)}return t.set(e,r),r}function cr(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?sr(t,this._c):[].concat(n),r],c=s[0],l=s.reduce((a,g)=>{const f=Bt(t,g,o);return a.top=xe(f.top,a.top),a.right=Ye(f.right,a.right),a.bottom=Ye(f.bottom,a.bottom),a.left=xe(f.left,a.left),a},Bt(t,c,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ur(e){return pn(e)}function lr(e,t,n){const r=ne(t),o=ge(t),i=n==="fixed",s=Ce(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=we(0);if(r||!r&&!i)if((ye(t)!=="body"||Ne(o))&&(c=rt(t)),r){const a=Ce(t,!0,i,t);l.x=a.x+t.clientLeft,l.y=a.y+t.clientTop}else o&&(l.x=hn(o));return{x:s.left+c.scrollLeft-l.x,y:s.top+c.scrollTop-l.y,width:s.width,height:s.height}}function Vt(e,t){return!ne(e)||se(e).position==="fixed"?null:t?t(e):e.offsetParent}function yn(e,t){const n=ie(e);if(!ne(e))return n;let r=Vt(e,t);for(;r&&Kn(r)&&se(r).position==="static";)r=Vt(r,t);return r&&(ye(r)==="html"||ye(r)==="body"&&se(r).position==="static"&&!wt(r))?n:r||Bn(e)||n}const ar=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||yn,i=this.getDimensions;return{reference:lr(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function fr(e){return se(e).direction==="rtl"}const dr={convertOffsetParentRelativeRectToViewportRelativeRect:tr,getDocumentElement:ge,getClippingRect:cr,getOffsetParent:yn,getElementRects:ar,getClientRects:nr,getDimensions:ur,getScale:Ae,isElement:G,isRTL:fr};function mr(e,t){let n=null,r;const o=ge(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const{left:a,top:g,width:f,height:v}=e.getBoundingClientRect();if(c||t(),!f||!v)return;const u=Se(g),m=Se(o.clientWidth-(a+f)),p=Se(o.clientHeight-(g+v)),T=Se(a),y={rootMargin:-u+"px "+-m+"px "+-p+"px "+-T+"px",threshold:xe(0,Ye(1,l))||1};let P=!0;function R(x){const L=x[0].intersectionRatio;if(L!==l){if(!P)return s();L?s(!1,L):r=setTimeout(()=>{s(!1,1e-7)},100)}P=!1}try{n=new IntersectionObserver(R,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(R,y)}n.observe(e)}return s(!0),i}function co(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,a=It(e),g=o||i?[...a?be(a):[],...be(t)]:[];g.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=a&&c?mr(a,n):null;let v=-1,u=null;s&&(u=new ResizeObserver(b=>{let[y]=b;y&&y.target===a&&u&&(u.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{u&&u.observe(t)})),n()}),a&&!l&&u.observe(a),u.observe(t));let m,p=l?Ce(e):null;l&&T();function T(){const b=Ce(e);p&&(b.x!==p.x||b.y!==p.y||b.width!==p.width||b.height!==p.height)&&n(),p=b,m=requestAnimationFrame(T)}return n(),()=>{g.forEach(b=>{o&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),f&&f(),u&&u.disconnect(),u=null,l&&cancelAnimationFrame(m)}}const gr=(e,t,n)=>{const r=new Map,o={platform:dr,...n},i={...o.platform,_c:r};return Zn(e,t,{...o,platform:i})};var Xe=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Qe(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Qe(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Qe(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function wn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Wt(e,t){const n=wn(e);return Math.round(t*n)/n}function _t(e){const t=d.useRef(e);return Xe(()=>{t.current=e}),t}function pr(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:l,open:a}=e,[g,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,u]=d.useState(r);Qe(v,r)||u(r);const[m,p]=d.useState(null),[T,b]=d.useState(null),y=d.useCallback(A=>{A!=L.current&&(L.current=A,p(A))},[p]),P=d.useCallback(A=>{A!==W.current&&(W.current=A,b(A))},[b]),R=i||m,x=s||T,L=d.useRef(null),W=d.useRef(null),j=d.useRef(g),F=_t(l),M=_t(o),E=d.useCallback(()=>{if(!L.current||!W.current)return;const A={placement:t,strategy:n,middleware:v};M.current&&(A.platform=M.current),gr(L.current,W.current,A).then(C=>{const I={...C,isPositioned:!0};N.current&&!Qe(j.current,I)&&(j.current=I,on.flushSync(()=>{f(I)}))})},[v,t,n,M]);Xe(()=>{a===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(A=>({...A,isPositioned:!1})))},[a]);const N=d.useRef(!1);Xe(()=>(N.current=!0,()=>{N.current=!1}),[]),Xe(()=>{if(R&&(L.current=R),x&&(W.current=x),R&&x){if(F.current)return F.current(R,x,E);E()}},[R,x,E,F]);const w=d.useMemo(()=>({reference:L,floating:W,setReference:y,setFloating:P}),[y,P]),h=d.useMemo(()=>({reference:R,floating:x}),[R,x]),O=d.useMemo(()=>{const A={position:n,left:0,top:0};if(!h.floating)return A;const C=Wt(h.floating,g.x),I=Wt(h.floating,g.y);return c?{...A,transform:"translate("+C+"px, "+I+"px)",...wn(h.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:C,top:I}},[n,c,h.floating,g.x,g.y]);return d.useMemo(()=>({...g,update:E,refs:w,elements:h,floatingStyles:O}),[g,E,w,h,O])}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var vr=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],yt=vr.join(","),xn=typeof Element>"u",Fe=xn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,et=!xn&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},tt=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},hr=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},br=function(t,n,r){if(tt(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(yt));return n&&Fe.call(t,yt)&&o.unshift(t),o=o.filter(r),o},yr=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!tt(s,!1))if(s.tagName==="SLOT"){var c=s.assignedElements(),l=c.length?c:s.children,a=e(l,!0,r);r.flatten?o.push.apply(o,a):o.push({scopeParent:s,candidates:a})}else{var g=Fe.call(s,yt);g&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var f=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),v=!tt(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(f&&v){var u=e(f===!0?s.children:f.children,!0,r);r.flatten?o.push.apply(o,u):o.push({scopeParent:s,candidates:u})}else i.unshift.apply(i,s.children)}}return o},Rn=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},En=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||hr(t))&&!Rn(t)?0:t.tabIndex},wr=function(t,n){var r=En(t);return r<0&&n&&!Rn(t)?0:r},xr=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Tn=function(t){return t.tagName==="INPUT"},Rr=function(t){return Tn(t)&&t.type==="hidden"},Er=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Tr=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Cr=function(t){if(!t.name)return!0;var n=t.form||et(t),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=Tr(o,t.form);return!i||i===t},Ir=function(t){return Tn(t)&&t.type==="radio"},Or=function(t){return Ir(t)&&!Cr(t)},Sr=function(t){var n,r=t&&et(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,c,l;for(i=!!((s=o)!==null&&s!==void 0&&(c=s.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!i&&o;){var a,g,f;r=et(o),o=(a=r)===null||a===void 0?void 0:a.host,i=!!((g=o)!==null&&g!==void 0&&(f=g.ownerDocument)!==null&&f!==void 0&&f.contains(o))}}return i},Ht=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Ar=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=Fe.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if(Fe.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var l=t.parentElement,a=et(t);if(l&&!l.shadowRoot&&o(l)===!0)return Ht(t);t.assignedSlot?t=t.assignedSlot:!l&&a!==t.ownerDocument?t=a.host:t=l}t=c}if(Sr(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Ht(t);return!1},Pr=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return Fe.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},Mr=function(t,n){return!(n.disabled||tt(n)||Rr(n)||Ar(n,t)||Er(n)||Pr(n))},qt=function(t,n){return!(Or(n)||En(n)<0||!Mr(t,n))},kr=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Lr=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,c=s?o.scopeParent:o,l=wr(c,s),a=s?e(o.candidates):c;l===0?s?n.push.apply(n,a):n.push(c):r.push({documentOrder:i,tabIndex:l,item:o,isScope:s,content:a})}),r.sort(xr).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},Ot=function(t,n){n=n||{};var r;return n.getShadowRoot?r=yr([t],n.includeContainer,{filter:qt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:kr}):r=br(t,n.includeContainer,qt.bind(null,n)),Lr(r)};function uo(e){return d.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const Fr=rn["useInsertionEffect".toString()],Dr=Fr||(e=>e());function ae(e){const t=d.useRef(()=>{});return Dr(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const St="ArrowUp",ct="ArrowDown",Pe="ArrowLeft",Be="ArrowRight";function je(e,t,n){return Math.floor(e/t)!==n}function ke(e,t){return t<0||t>=e.current.length}function at(e,t){return re(e,{disabledIndices:t})}function jt(e,t){return re(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function re(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const s=e.current;let c=n;do{var l,a;c=c+(r?-i:i)}while(c>=0&&c<=s.length-1&&(o?o.includes(c):s[c]==null||(l=s[c])!=null&&l.hasAttribute("disabled")||((a=s[c])==null?void 0:a.getAttribute("aria-disabled"))==="true"));return c}function Nr(e,t){let{event:n,orientation:r,loop:o,cols:i,disabledIndices:s,minIndex:c,maxIndex:l,prevIndex:a,stopEvent:g=!1}=t,f=a;if(n.key===St){if(g&&te(n),a===-1)f=l;else if(f=re(e,{startingIndex:f,amount:i,decrement:!0,disabledIndices:s}),o&&(a-i<c||f<0)){const v=a%i,u=l%i,m=l-(u-v);u===v?f=l:f=u>v?m:m-i}ke(e,f)&&(f=a)}if(n.key===ct&&(g&&te(n),a===-1?f=c:(f=re(e,{startingIndex:a,amount:i,disabledIndices:s}),o&&a+i>l&&(f=re(e,{startingIndex:a%i-i,amount:i,disabledIndices:s}))),ke(e,f)&&(f=a)),r==="both"){const v=Se(a/i);n.key===Be&&(g&&te(n),a%i!==i-1?(f=re(e,{startingIndex:a,disabledIndices:s}),o&&je(f,i,v)&&(f=re(e,{startingIndex:a-a%i-1,disabledIndices:s}))):o&&(f=re(e,{startingIndex:a-a%i-1,disabledIndices:s})),je(f,i,v)&&(f=a)),n.key===Pe&&(g&&te(n),a%i!==0?(f=re(e,{startingIndex:a,disabledIndices:s,decrement:!0}),o&&je(f,i,v)&&(f=re(e,{startingIndex:a+(i-a%i),decrement:!0,disabledIndices:s}))):o&&(f=re(e,{startingIndex:a+(i-a%i),decrement:!0,disabledIndices:s})),je(f,i,v)&&(f=a));const u=Se(l/i)===v;ke(e,f)&&(o&&u?f=n.key===Pe?l:re(e,{startingIndex:a-a%i-1,disabledIndices:s}):f=a)}return f}let $t=0;function me(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame($t);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():$t=requestAnimationFrame(i)}var Y=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Kr(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}function Br(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}const Cn=d.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function lo(e){let{children:t,elementsRef:n,labelsRef:r}=e;const[o,i]=d.useState(()=>new Map),s=d.useCallback(l=>{i(a=>new Map(a).set(l,null))},[]),c=d.useCallback(l=>{i(a=>{const g=new Map(a);return g.delete(l),g})},[]);return Y(()=>{const l=new Map(o);Array.from(l.keys()).sort(Kr).forEach((g,f)=>{l.set(g,f)}),Br(o,l)||i(l)},[o]),d.createElement(Cn.Provider,{value:d.useMemo(()=>({register:s,unregister:c,map:o,elementsRef:n,labelsRef:r}),[s,c,o,n,r])},t)}function ao(e){let{label:t}=e===void 0?{}:e;const[n,r]=d.useState(null),o=d.useRef(null),{register:i,unregister:s,map:c,elementsRef:l,labelsRef:a}=d.useContext(Cn),g=d.useCallback(f=>{if(o.current=f,n!==null&&(l.current[n]=f,a)){var v;const u=t!==void 0;a.current[n]=u?t:(v=f==null?void 0:f.textContent)!=null?v:null}},[n,l,a,t]);return Y(()=>{const f=o.current;if(f)return i(f),()=>{s(f)}},[i,s]),Y(()=>{const f=o.current?c.get(o.current):null;f!=null&&r(f)},[c]),d.useMemo(()=>({ref:g,index:n??-1}),[n,g])}function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De.apply(this,arguments)}let ft=!1,Vr=0;const Ut=()=>"floating-ui-"+Vr++;function Wr(){const[e,t]=d.useState(()=>ft?Ut():void 0);return Y(()=>{e==null&&t(Ut())},[]),d.useEffect(()=>{ft||(ft=!0)},[]),e}const _r=rn["useId".toString()],Ve=_r||Wr;function In(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const On=d.createContext(null),Sn=d.createContext(null),We=()=>{var e;return((e=d.useContext(On))==null?void 0:e.id)||null},Me=()=>d.useContext(Sn);function fo(e){const t=Ve(),n=Me(),r=We(),o=e||r;return Y(()=>{const i={id:t,parentId:o};return n==null||n.addNode(i),()=>{n==null||n.removeNode(i)}},[n,t,o]),t}function mo(e){let{children:t,id:n}=e;const r=We();return d.createElement(On.Provider,{value:d.useMemo(()=>({id:n,parentId:r}),[n,r])},t)}function go(e){let{children:t}=e;const n=d.useRef([]),r=d.useCallback(s=>{n.current=[...n.current,s]},[]),o=d.useCallback(s=>{n.current=n.current.filter(c=>c!==s)},[]),i=d.useState(()=>In())[0];return d.createElement(Sn.Provider,{value:d.useMemo(()=>({nodesRef:n,addNode:r,removeNode:o,events:i}),[n,r,o,i])},t)}function Ie(e){return"data-floating-ui-"+e}function fe(e){const t=d.useRef(e);return Y(()=>{t.current=e}),t}const Xt=Ie("safe-polygon");function dt(e,t,n){return n&&!ze(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function po(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:s,floating:c},refs:l}=e,{enabled:a=!0,delay:g=0,handleClose:f=null,mouseOnly:v=!1,restMs:u=0,move:m=!0}=t,p=Me(),T=We(),b=fe(f),y=fe(g),P=d.useRef(),R=d.useRef(),x=d.useRef(),L=d.useRef(),W=d.useRef(!0),j=d.useRef(!1),F=d.useRef(()=>{}),M=d.useCallback(()=>{var h;const O=(h=o.current.openEvent)==null?void 0:h.type;return(O==null?void 0:O.includes("mouse"))&&O!=="mousedown"},[o]);d.useEffect(()=>{if(!a)return;function h(){clearTimeout(R.current),clearTimeout(L.current),W.current=!0}return i.on("dismiss",h),()=>{i.off("dismiss",h)}},[a,i]),d.useEffect(()=>{if(!a||!b.current||!n)return;function h(A){M()&&r(!1,A)}const O=oe(c).documentElement;return O.addEventListener("mouseleave",h),()=>{O.removeEventListener("mouseleave",h)}},[c,n,r,a,b,o,M]);const E=d.useCallback(function(h,O){O===void 0&&(O=!0);const A=dt(y.current,"close",P.current);A&&!x.current?(clearTimeout(R.current),R.current=setTimeout(()=>r(!1,h),A)):O&&(clearTimeout(R.current),r(!1,h))},[y,r]),N=d.useCallback(()=>{F.current(),x.current=void 0},[]),w=d.useCallback(()=>{if(j.current){const h=oe(l.floating.current).body;h.style.pointerEvents="",h.removeAttribute(Xt),j.current=!1}},[l]);return d.useEffect(()=>{if(!a)return;function h(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function O(I){if(clearTimeout(R.current),W.current=!1,v&&!ze(P.current)||u>0&&dt(y.current,"open")===0)return;const k=dt(y.current,"open",P.current);k?R.current=setTimeout(()=>{r(!0,I)},k):r(!0,I)}function A(I){if(h())return;F.current();const k=oe(c);if(clearTimeout(L.current),b.current){n||clearTimeout(R.current),x.current=b.current({...e,tree:p,x:I.clientX,y:I.clientY,onClose(){w(),N(),E(I)}});const Q=x.current;k.addEventListener("mousemove",Q),F.current=()=>{k.removeEventListener("mousemove",Q)};return}(P.current==="touch"?!ee(c,I.relatedTarget):!0)&&E(I)}function C(I){h()||b.current==null||b.current({...e,tree:p,x:I.clientX,y:I.clientY,onClose(){w(),N(),E(I)}})(I)}if(G(s)){const I=s;return n&&I.addEventListener("mouseleave",C),c==null||c.addEventListener("mouseleave",C),m&&I.addEventListener("mousemove",O,{once:!0}),I.addEventListener("mouseenter",O),I.addEventListener("mouseleave",A),()=>{n&&I.removeEventListener("mouseleave",C),c==null||c.removeEventListener("mouseleave",C),m&&I.removeEventListener("mousemove",O),I.removeEventListener("mouseenter",O),I.removeEventListener("mouseleave",A)}}},[s,c,a,e,v,u,m,E,N,w,r,n,p,y,b,o]),Y(()=>{var h;if(a&&n&&(h=b.current)!=null&&h.__options.blockPointerEvents&&M()){const C=oe(c).body;if(C.setAttribute(Xt,""),C.style.pointerEvents="none",j.current=!0,G(s)&&c){var O,A;const I=s,k=p==null||(O=p.nodesRef.current.find(S=>S.id===T))==null||(A=O.context)==null?void 0:A.elements.floating;return k&&(k.style.pointerEvents=""),I.style.pointerEvents="auto",c.style.pointerEvents="auto",()=>{I.style.pointerEvents="",c.style.pointerEvents=""}}}},[a,n,T,c,s,p,b,o,M]),Y(()=>{n||(P.current=void 0,N(),w())},[n,N,w]),d.useEffect(()=>()=>{N(),clearTimeout(R.current),clearTimeout(L.current),w()},[a,s,N,w]),d.useMemo(()=>{if(!a)return{};function h(O){P.current=O.pointerType}return{reference:{onPointerDown:h,onPointerEnter:h,onMouseMove(O){n||u===0||(clearTimeout(L.current),L.current=setTimeout(()=>{W.current||r(!0,O.nativeEvent)},u))}},floating:{onMouseEnter(){clearTimeout(R.current)},onMouseLeave(O){i.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),E(O.nativeEvent,!1)}}}},[i,a,u,n,r,E])}function Hr(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Re(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function qr(e,t){let n,r=-1;function o(i,s){s>r&&(n=i,r=s),Re(e,i).forEach(l=>{o(l.id,s+1)})}return o(t,0),e.find(i=>i.id===n)}let Oe=new WeakMap,$e=new WeakSet,Ue={},mt=0;const jr=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,An=e=>e&&(e.host||An(e.parentNode)),$r=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=An(n);return e.contains(r)?r:null}).filter(n=>n!=null);function Ur(e,t,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,s=$r(t,e),c=new Set,l=new Set(s),a=[];Ue[o]||(Ue[o]=new WeakMap);const g=Ue[o];s.forEach(f),v(t),c.clear();function f(u){!u||c.has(u)||(c.add(u),u.parentNode&&f(u.parentNode))}function v(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,m=>{if(c.has(m))v(m);else{const p=i?m.getAttribute(i):null,T=p!==null&&p!=="false",b=(Oe.get(m)||0)+1,y=(g.get(m)||0)+1;Oe.set(m,b),g.set(m,y),a.push(m),b===1&&T&&$e.add(m),y===1&&m.setAttribute(o,""),!T&&i&&m.setAttribute(i,"true")}})}return mt++,()=>{a.forEach(u=>{const m=(Oe.get(u)||0)-1,p=(g.get(u)||0)-1;Oe.set(u,m),g.set(u,p),m||(!$e.has(u)&&i&&u.removeAttribute(i),$e.delete(u)),p||u.removeAttribute(o)}),mt--,mt||(Oe=new WeakMap,Oe=new WeakMap,$e=new WeakSet,Ue={})}}function zt(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=oe(e[0]).body;return Ur(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const At=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Pn(e,t){const n=Ot(e,At());t==="prev"&&n.reverse();const r=n.indexOf(le(oe(e)));return n.slice(r+1)[0]}function Mn(){return Pn(document.body,"next")}function kn(){return Pn(document.body,"prev")}function Le(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!ee(n,r)}function Xr(e){Ot(e,At()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function zr(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Pt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Yr;function Yt(e){e.key==="Tab"&&(e.target,clearTimeout(Yr))}const nt=d.forwardRef(function(t,n){const[r,o]=d.useState();Y(()=>(Tt()&&o("button"),document.addEventListener("keydown",Yt),()=>{document.removeEventListener("keydown",Yt)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Ie("focus-guard")]:"",style:Pt};return d.createElement("span",De({},t,i))}),Ln=d.createContext(null);function Gr(e){let{id:t,root:n}=e===void 0?{}:e;const[r,o]=d.useState(null),i=Ve(),s=Fn(),c=d.useMemo(()=>({id:t,root:n,portalContext:s,uniqueId:i}),[t,n,s,i]),l=d.useRef();return Y(()=>()=>{r==null||r.remove()},[r,c]),Y(()=>{if(l.current===c)return;l.current=c;const{id:a,root:g,portalContext:f,uniqueId:v}=c,u=a?document.getElementById(a):null,m=Ie("portal");if(u){const p=document.createElement("div");p.id=v,p.setAttribute(m,""),u.appendChild(p),o(p)}else{let p=g||(f==null?void 0:f.portalNode);p&&!G(p)&&(p=p.current),p=p||document.body;let T=null;a&&(T=document.createElement("div"),T.id=a,p.appendChild(T));const b=document.createElement("div");b.id=v,b.setAttribute(m,""),p=T||p,p.appendChild(b),o(b)}},[c]),r}function vo(e){let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=Gr({id:n,root:r}),[s,c]=d.useState(null),l=d.useRef(null),a=d.useRef(null),g=d.useRef(null),f=d.useRef(null),v=!!s&&!s.modal&&s.open&&o&&!!(r||i);return d.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function u(m){i&&Le(m)&&(m.type==="focusin"?zr:Xr)(i)}return i.addEventListener("focusin",u,!0),i.addEventListener("focusout",u,!0),()=>{i.removeEventListener("focusin",u,!0),i.removeEventListener("focusout",u,!0)}},[i,o,s==null?void 0:s.modal]),d.createElement(Ln.Provider,{value:d.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:l,afterOutsideRef:a,beforeInsideRef:g,afterInsideRef:f,portalNode:i,setFocusManagerState:c}),[o,i])},v&&i&&d.createElement(nt,{"data-type":"outside",ref:l,onFocus:u=>{if(Le(u,i)){var m;(m=g.current)==null||m.focus()}else{const p=kn()||(s==null?void 0:s.refs.domReference.current);p==null||p.focus()}}}),v&&i&&d.createElement("span",{"aria-owns":i.id,style:Pt}),i&&on.createPortal(t,i),v&&i&&d.createElement(nt,{"data-type":"outside",ref:a,onFocus:u=>{if(Le(u,i)){var m;(m=f.current)==null||m.focus()}else{const p=Mn()||(s==null?void 0:s.refs.domReference.current);p==null||p.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,u.nativeEvent))}}}))}const Fn=()=>d.useContext(Ln),Zr=d.forwardRef(function(t,n){return d.createElement("button",De({},t,{type:"button",ref:n,tabIndex:-1,style:Pt}))});function ho(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:c=!0,modal:l=!0,visuallyHiddenDismiss:a=!1,closeOnFocusOut:g=!0}=e,{open:f,refs:v,nodeId:u,onOpenChange:m,events:p,dataRef:T,elements:{domReference:b,floating:y}}=t,P=typeof s=="number"&&s<0,R=(b==null?void 0:b.getAttribute("role"))==="combobox"&&Ct(b)&&P,x=R?!1:l,L=jr()?i:!0,W=fe(o),j=fe(s),F=fe(c),M=Me(),E=Fn(),N=d.useRef(null),w=d.useRef(null),h=d.useRef(!1),O=d.useRef(null),A=d.useRef(!1),C=E!=null,I=d.useCallback(function(_){return _===void 0&&(_=y),_?Ot(_,At()):[]},[y]),k=d.useCallback(_=>{const K=I(_);return W.current.map(B=>b&&B==="reference"?b:y&&B==="floating"?y:K).filter(Boolean).flat()},[b,y,W,I]);d.useEffect(()=>{if(r||!x)return;function _(B){if(B.key==="Tab"){ee(y,le(oe(y)))&&I().length===0&&!R&&te(B);const H=k(),U=he(B);W.current[0]==="reference"&&U===b&&(te(B),B.shiftKey?me(H[H.length-1]):me(H[1])),W.current[1]==="floating"&&U===y&&B.shiftKey&&(te(B),me(H[0]))}}const K=oe(y);return K.addEventListener("keydown",_),()=>{K.removeEventListener("keydown",_)}},[r,b,y,x,W,v,R,I,k]),d.useEffect(()=>{if(r||!g)return;function _(){A.current=!0,setTimeout(()=>{A.current=!1})}function K(B){const H=B.relatedTarget;queueMicrotask(()=>{const U=!(ee(b,H)||ee(y,H)||ee(H,y)||ee(E==null?void 0:E.portalNode,H)||H!=null&&H.hasAttribute(Ie("focus-guard"))||M&&(Re(M.nodesRef.current,u).find(q=>{var V,X;return ee((V=q.context)==null?void 0:V.elements.floating,H)||ee((X=q.context)==null?void 0:X.elements.domReference,H)})||Hr(M.nodesRef.current,u).find(q=>{var V,X;return((V=q.context)==null?void 0:V.elements.floating)===H||((X=q.context)==null?void 0:X.elements.domReference)===H})));H&&U&&!A.current&&H!==O.current&&(h.current=!0,m(!1,B))})}if(y&&ne(b))return b.addEventListener("focusout",K),b.addEventListener("pointerdown",_),!x&&y.addEventListener("focusout",K),()=>{b.removeEventListener("focusout",K),b.removeEventListener("pointerdown",_),!x&&y.removeEventListener("focusout",K)}},[r,b,y,x,u,M,E,m,g]),d.useEffect(()=>{var _;if(r)return;const K=Array.from((E==null||(_=E.portalNode)==null?void 0:_.querySelectorAll("["+Ie("portal")+"]"))||[]);if(y){const B=[y,...K,N.current,w.current,W.current.includes("reference")||R?b:null].filter(U=>U!=null),H=l||R?zt(B,L,!L):zt(B);return()=>{H()}}},[r,b,y,l,W,E,R,L]),Y(()=>{if(r||!y)return;const _=oe(y),K=le(_);queueMicrotask(()=>{const B=k(y),H=j.current,U=(typeof H=="number"?B[H]:H.current)||y,q=ee(y,K);!P&&!q&&f&&me(U,{preventScroll:U===y})})},[r,f,y,P,k,j]),Y(()=>{if(r||!y)return;let _=!1;const K=oe(y),B=le(K),H=T.current;O.current=B;function U(q){if(q.type==="escapeKey"&&v.domReference.current&&(O.current=v.domReference.current),["referencePress","escapeKey"].includes(q.type))return;const V=q.data.returnFocus;typeof V=="object"?(h.current=!1,_=V.preventScroll):h.current=!V}return p.on("dismiss",U),()=>{p.off("dismiss",U);const q=le(K);(ee(y,q)||M&&Re(M.nodesRef.current,u).some(X=>{var $;return ee(($=X.context)==null?void 0:$.elements.floating,q)})||H.openEvent&&["click","mousedown"].includes(H.openEvent.type))&&v.domReference.current&&(O.current=v.domReference.current),F.current&&ne(O.current)&&!h.current&&me(O.current,{cancelPrevious:!1,preventScroll:_})}},[r,y,F,T,v,p,M,u]),Y(()=>{if(!(r||!E))return E.setFocusManagerState({modal:x,closeOnFocusOut:g,open:f,onOpenChange:m,refs:v}),()=>{E.setFocusManagerState(null)}},[r,E,x,f,m,v,g]),Y(()=>{if(r||!y||typeof MutationObserver!="function"||P)return;const _=()=>{const B=y.getAttribute("tabindex");W.current.includes("floating")||le(oe(y))!==v.domReference.current&&I().length===0?B!=="0"&&y.setAttribute("tabindex","0"):B!=="-1"&&y.setAttribute("tabindex","-1")};_();const K=new MutationObserver(_);return K.observe(y,{childList:!0,subtree:!0,attributes:!0}),()=>{K.disconnect()}},[r,y,v,W,I,P]);function S(_){return r||!a||!x?null:d.createElement(Zr,{ref:_==="start"?N:w,onClick:K=>m(!1,K.nativeEvent)},typeof a=="string"?a:"Dismiss")}const Q=!r&&L&&(C||x);return d.createElement(d.Fragment,null,Q&&d.createElement(nt,{"data-type":"inside",ref:E==null?void 0:E.beforeInsideRef,onFocus:_=>{if(x){const B=k();me(o[0]==="reference"?B[0]:B[B.length-1])}else if(E!=null&&E.preserveTabOrder&&E.portalNode)if(h.current=!1,Le(_,E.portalNode)){const B=Mn()||b;B==null||B.focus()}else{var K;(K=E.beforeOutsideRef.current)==null||K.focus()}}}),!R&&S("start"),n,S("end"),Q&&d.createElement(nt,{"data-type":"inside",ref:E==null?void 0:E.afterInsideRef,onFocus:_=>{if(x)me(k()[0]);else if(E!=null&&E.preserveTabOrder&&E.portalNode)if(g&&(h.current=!0),Le(_,E.portalNode)){const B=kn()||b;B==null||B.focus()}else{var K;(K=E.afterOutsideRef.current)==null||K.focus()}}}))}const gt=new Set,bo=d.forwardRef(function(t,n){let{lockScroll:r=!1,...o}=t;const i=Ve();return Y(()=>{if(!r)return;gt.add(i);const s=/iP(hone|ad|od)|iOS/.test(Rt()),c=document.body.style,a=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",g=window.innerWidth-document.documentElement.clientWidth,f=c.left?parseFloat(c.left):window.pageXOffset,v=c.top?parseFloat(c.top):window.pageYOffset;if(c.overflow="hidden",g&&(c[a]=g+"px"),s){var u,m;const p=((u=window.visualViewport)==null?void 0:u.offsetLeft)||0,T=((m=window.visualViewport)==null?void 0:m.offsetTop)||0;Object.assign(c,{position:"fixed",top:-(v-Math.floor(T))+"px",left:-(f-Math.floor(p))+"px",right:"0"})}return()=>{gt.delete(i),gt.size===0&&(Object.assign(c,{overflow:"",[a]:""}),s&&(Object.assign(c,{position:"",top:"",left:"",right:""}),window.scrollTo(f,v)))}},[i,r]),d.createElement("div",De({ref:n},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function Gt(e){return ne(e.target)&&e.target.tagName==="BUTTON"}function Zt(e){return Ct(e)}function yo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:c="click",toggle:l=!0,ignoreMouse:a=!1,keyboardHandlers:g=!0}=t,f=d.useRef(),v=d.useRef(!1);return d.useMemo(()=>s?{reference:{onPointerDown(u){f.current=u.pointerType},onMouseDown(u){u.button===0&&(ze(f.current,!0)&&a||c!=="click"&&(n&&l&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,u.nativeEvent):(u.preventDefault(),r(!0,u.nativeEvent))))},onClick(u){if(c==="mousedown"&&f.current){f.current=void 0;return}ze(f.current,!0)&&a||(n&&l&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,u.nativeEvent):r(!0,u.nativeEvent))},onKeyDown(u){f.current=void 0,!(u.defaultPrevented||!g||Gt(u))&&(u.key===" "&&!Zt(i)&&(u.preventDefault(),v.current=!0),u.key==="Enter"&&r(!(n&&l),u.nativeEvent))},onKeyUp(u){u.defaultPrevented||!g||Gt(u)||Zt(i)||u.key===" "&&v.current&&(v.current=!1,r(!(n&&l),u.nativeEvent))}}}:{},[s,o,c,a,g,i,l,n,r])}const Jr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Qr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Jt=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function wo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:s,domReference:c,floating:l},dataRef:a}=e,{enabled:g=!0,escapeKey:f=!0,outsidePress:v=!0,outsidePressEvent:u="pointerdown",referencePress:m=!1,referencePressEvent:p="pointerdown",ancestorScroll:T=!1,bubbles:b,capture:y}=t,P=Me(),R=We()!=null,x=ae(typeof v=="function"?v:()=>!1),L=typeof v=="function"?x:v,W=d.useRef(!1),j=d.useRef(!1),{escapeKey:F,outsidePress:M}=Jt(b),{escapeKey:E,outsidePress:N}=Jt(y),w=ae(C=>{if(!n||!g||!f||C.key!=="Escape")return;const I=P?Re(P.nodesRef.current,i):[];if(!F&&(C.stopPropagation(),I.length>0)){let k=!0;if(I.forEach(S=>{var Q;if((Q=S.context)!=null&&Q.open&&!S.context.dataRef.current.__escapeKeyBubbles){k=!1;return}}),!k)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,Wn(C)?C.nativeEvent:C)}),h=ae(C=>{var I;const k=()=>{var S;w(C),(S=he(C))==null||S.removeEventListener("keydown",k)};(I=he(C))==null||I.addEventListener("keydown",k)}),O=ae(C=>{const I=W.current;W.current=!1;const k=j.current;if(j.current=!1,u==="click"&&k||I||typeof L=="function"&&!L(C))return;const S=he(C),Q="["+Ie("inert")+"]",_=oe(l).querySelectorAll(Q);let K=G(S)?S:null;for(;K&&!Ke(K);){const U=Ee(K);if(U===oe(l).body||!G(U))break;K=U}if(_.length&&G(S)&&!_n(S)&&!ee(S,l)&&Array.from(_).every(U=>!ee(K,U)))return;if(ne(S)&&l){const U=S.clientWidth>0&&S.scrollWidth>S.clientWidth,q=S.clientHeight>0&&S.scrollHeight>S.clientHeight;let V=q&&C.offsetX>S.clientWidth;if(q&&se(S).direction==="rtl"&&(V=C.offsetX<=S.offsetWidth-S.clientWidth),V||U&&C.offsetY>S.clientHeight)return}const B=P&&Re(P.nodesRef.current,i).some(U=>{var q;return lt(C,(q=U.context)==null?void 0:q.elements.floating)});if(lt(C,l)||lt(C,c)||B)return;const H=P?Re(P.nodesRef.current,i):[];if(H.length>0){let U=!0;if(H.forEach(q=>{var V;if((V=q.context)!=null&&V.open&&!q.context.dataRef.current.__outsidePressBubbles){U=!1;return}}),!U)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:R?{preventScroll:!0}:un(C)||Et(C)}}),r(!1,C)}),A=ae(C=>{var I;const k=()=>{var S;O(C),(S=he(C))==null||S.removeEventListener(u,k)};(I=he(C))==null||I.addEventListener(u,k)});return d.useEffect(()=>{if(!n||!g)return;a.current.__escapeKeyBubbles=F,a.current.__outsidePressBubbles=M;function C(S){r(!1,S)}const I=oe(l);f&&I.addEventListener("keydown",E?h:w,E),L&&I.addEventListener(u,N?A:O,N);let k=[];return T&&(G(c)&&(k=be(c)),G(l)&&(k=k.concat(be(l))),!G(s)&&s&&s.contextElement&&(k=k.concat(be(s.contextElement)))),k=k.filter(S=>{var Q;return S!==((Q=I.defaultView)==null?void 0:Q.visualViewport)}),k.forEach(S=>{S.addEventListener("scroll",C,{passive:!0})}),()=>{f&&I.removeEventListener("keydown",E?h:w,E),L&&I.removeEventListener(u,N?A:O,N),k.forEach(S=>{S.removeEventListener("scroll",C)})}},[a,l,c,s,f,L,u,n,r,T,g,F,M,w,E,h,O,N,A]),d.useEffect(()=>{W.current=!1},[L,u]),d.useMemo(()=>g?{reference:{onKeyDown:w,[Jr[p]]:C=>{m&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,C.nativeEvent))}},floating:{onKeyDown:w,onMouseDown(){j.current=!0},onMouseUp(){j.current=!0},[Qr[u]]:()=>{W.current=!0}}}:{},[g,o,m,u,p,r,w])}function xo(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,s]=d.useState(null),c=((t=e.elements)==null?void 0:t.reference)||i,l=pr(e),a=Me(),g=ae((R,x)=>{R&&(v.current.openEvent=x),r==null||r(R,x)}),f=d.useRef(null),v=d.useRef({}),u=d.useState(()=>In())[0],m=Ve(),p=d.useCallback(R=>{const x=G(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),contextElement:R}:R;l.refs.setReference(x)},[l.refs]),T=d.useCallback(R=>{(G(R)||R===null)&&(f.current=R,s(R)),(G(l.refs.reference.current)||l.refs.reference.current===null||R!==null&&!G(R))&&l.refs.setReference(R)},[l.refs]),b=d.useMemo(()=>({...l.refs,setReference:T,setPositionReference:p,domReference:f}),[l.refs,T,p]),y=d.useMemo(()=>({...l.elements,domReference:c}),[l.elements,c]),P=d.useMemo(()=>({...l,refs:b,elements:y,dataRef:v,nodeId:o,floatingId:m,events:u,open:n,onOpenChange:g}),[l,o,m,u,n,g,b,y]);return Y(()=>{const R=a==null?void 0:a.nodesRef.current.find(x=>x.id===o);R&&(R.context=P)}),d.useMemo(()=>({...l,context:P,refs:b,elements:y}),[l,b,y,P])}function Ro(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,refs:i,elements:{floating:s,domReference:c}}=e,{enabled:l=!0,visibleOnly:a=!0}=t,g=d.useRef(!1),f=d.useRef(),v=d.useRef(!0);return d.useEffect(()=>{if(!l)return;const u=ie(c);function m(){!n&&ne(c)&&c===le(oe(c))&&(g.current=!0)}function p(){v.current=!0}return u.addEventListener("blur",m),u.addEventListener("keydown",p,!0),()=>{u.removeEventListener("blur",m),u.removeEventListener("keydown",p,!0)}},[s,c,n,l]),d.useEffect(()=>{if(!l)return;function u(m){(m.type==="referencePress"||m.type==="escapeKey")&&(g.current=!0)}return o.on("dismiss",u),()=>{o.off("dismiss",u)}},[o,l]),d.useEffect(()=>()=>{clearTimeout(f.current)},[]),d.useMemo(()=>l?{reference:{onPointerDown(u){Et(u.nativeEvent)||(v.current=!1)},onMouseLeave(){g.current=!1},onFocus(u){if(g.current)return;const m=he(u.nativeEvent);if(a&&G(m))try{if(Tt()&&an())throw Error();if(!m.matches(":focus-visible"))return}catch{if(!v.current&&!Ct(m))return}r(!0,u.nativeEvent)},onBlur(u){g.current=!1;const m=u.relatedTarget,p=G(m)&&m.hasAttribute(Ie("focus-guard"))&&m.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{const T=le(c?c.ownerDocument:document);!m&&T===c||ee(i.floating.current,m)||ee(c,m)||p||r(!1,u.nativeEvent)})}}}:{},[l,a,c,i,r])}function pt(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(s=>{let[c,l]=s;if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof l=="function"){var a;(a=r.get(c))==null||a.push(l),o[c]=function(){for(var g,f=arguments.length,v=new Array(f),u=0;u<f;u++)v[u]=arguments[u];return(g=r.get(c))==null?void 0:g.map(m=>m(...v)).find(m=>m!==void 0)}}}else o[c]=l}),o),{})}}function Eo(e){e===void 0&&(e=[]);const t=e,n=d.useCallback(i=>pt(i,e,"reference"),t),r=d.useCallback(i=>pt(i,e,"floating"),t),o=d.useCallback(i=>pt(i,e,"item"),e.map(i=>i==null?void 0:i.item));return d.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}let Qt=!1;function ut(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function en(e,t){return ut(t,e===St||e===ct,e===Pe||e===Be)}function vt(e,t,n){return ut(t,e===ct,n?e===Pe:e===Be)||e==="Enter"||e==" "||e===""}function eo(e,t,n){return ut(t,n?e===Pe:e===Be,e===ct)}function tn(e,t,n){return ut(t,n?e===Be:e===Pe,e===St)}function To(e,t){const{open:n,onOpenChange:r,refs:o,elements:{domReference:i,floating:s}}=e,{listRef:c,activeIndex:l,onNavigate:a=()=>{},enabled:g=!0,selectedIndex:f=null,allowEscape:v=!1,loop:u=!1,nested:m=!1,rtl:p=!1,virtual:T=!1,focusItemOnOpen:b="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:P=!0,disabledIndices:R=void 0,orientation:x="vertical",cols:L=1,scrollItemIntoView:W=!0,virtualItemRef:j}=t,F=We(),M=Me(),E=ae(a),N=d.useRef(b),w=d.useRef(f??-1),h=d.useRef(null),O=d.useRef(!0),A=d.useRef(E),C=d.useRef(!!s),I=d.useRef(!1),k=d.useRef(!1),S=fe(R),Q=fe(n),_=fe(W),[K,B]=d.useState(),[H,U]=d.useState(),q=ae(function($,J,z){z===void 0&&(z=!1);const Z=$.current[J.current];Z&&(T?(B(Z.id),M==null||M.events.emit("virtualfocus",Z),j&&(j.current=Z)):me(Z,{preventScroll:!0,sync:an()&&Tt()?Qt||I.current:!1}),requestAnimationFrame(()=>{const pe=_.current;pe&&Z&&(z||!O.current)&&(Z.scrollIntoView==null||Z.scrollIntoView(typeof pe=="boolean"?{block:"nearest",inline:"nearest"}:pe))}))});Y(()=>{document.createElement("div").focus({get preventScroll(){return Qt=!0,!1}})},[]),Y(()=>{g&&(n&&s?N.current&&f!=null&&(k.current=!0,E(f)):C.current&&(w.current=-1,A.current(null)))},[g,n,s,f,E]),Y(()=>{if(g&&n&&s)if(l==null){if(I.current=!1,f!=null)return;if(C.current&&(w.current=-1,q(c,w)),!C.current&&N.current&&(h.current!=null||N.current===!0&&h.current==null)){let $=0;const J=()=>{c.current[0]==null?($<2&&($?requestAnimationFrame:queueMicrotask)(J),$++):(w.current=h.current==null||vt(h.current,x,p)||m?at(c,S.current):jt(c,S.current),h.current=null,E(w.current))};J()}}else ke(c,l)||(w.current=l,q(c,w,k.current),k.current=!1)},[g,n,s,l,f,m,c,x,p,E,q,S]),Y(()=>{var $,J;if(!g||s||!M||T||!C.current)return;const z=M.nodesRef.current,Z=($=z.find(D=>D.id===F))==null||(J=$.context)==null?void 0:J.elements.floating,pe=le(oe(s)),_e=z.some(D=>D.context&&ee(D.context.elements.floating,pe));Z&&!_e&&O.current&&Z.focus({preventScroll:!0})},[g,s,M,F,T]),Y(()=>{if(!g||!M||!T||F)return;function $(J){U(J.id),j&&(j.current=J)}return M.events.on("virtualfocus",$),()=>{M.events.off("virtualfocus",$)}},[g,M,T,F,j]),Y(()=>{A.current=E,C.current=!!s}),Y(()=>{n||(h.current=null)},[n]);const V=l!=null,X=d.useMemo(()=>{function $(z){if(!n)return;const Z=c.current.indexOf(z);Z!==-1&&E(Z)}return{onFocus(z){let{currentTarget:Z}=z;$(Z)},onClick:z=>{let{currentTarget:Z}=z;return Z.focus({preventScroll:!0})},...y&&{onMouseMove(z){let{currentTarget:Z}=z;$(Z)},onPointerLeave(z){let{pointerType:Z}=z;!O.current||Z==="touch"||(w.current=-1,q(c,w),E(null),T||me(o.floating.current,{preventScroll:!0}))}}}},[n,o,q,y,c,E,T]);return d.useMemo(()=>{if(!g)return{};const $=S.current;function J(D){if(O.current=!1,I.current=!0,!Q.current&&D.currentTarget===o.floating.current)return;if(m&&tn(D.key,x,p)){te(D),r(!1,D.nativeEvent),ne(i)&&!T&&i.focus();return}const ce=w.current,ue=at(c,$),de=jt(c,$);if(D.key==="Home"&&(te(D),w.current=ue,E(w.current)),D.key==="End"&&(te(D),w.current=de,E(w.current)),!(L>1&&(w.current=Nr(c,{event:D,orientation:x,loop:u,cols:L,disabledIndices:$,minIndex:ue,maxIndex:de,prevIndex:w.current,stopEvent:!0}),E(w.current),x==="both"))&&en(D.key,x)){if(te(D),n&&!T&&le(D.currentTarget.ownerDocument)===D.currentTarget){w.current=vt(D.key,x,p)?ue:de,E(w.current);return}vt(D.key,x,p)?u?w.current=ce>=de?v&&ce!==c.current.length?-1:ue:re(c,{startingIndex:ce,disabledIndices:$}):w.current=Math.min(de,re(c,{startingIndex:ce,disabledIndices:$})):u?w.current=ce<=ue?v&&ce!==-1?c.current.length:de:re(c,{startingIndex:ce,decrement:!0,disabledIndices:$}):w.current=Math.max(ue,re(c,{startingIndex:ce,decrement:!0,disabledIndices:$})),ke(c,w.current)?E(null):E(w.current)}}function z(D){b==="auto"&&un(D.nativeEvent)&&(N.current=!0)}function Z(D){N.current=b,b==="auto"&&Et(D.nativeEvent)&&(N.current=!0)}const pe=T&&n&&V&&{"aria-activedescendant":H||K},_e=c.current.find(D=>(D==null?void 0:D.id)===K);return{reference:{...pe,onKeyDown(D){O.current=!1;const ce=D.key.indexOf("Arrow")===0,ue=eo(D.key,x,p),de=tn(D.key,x,p),He=en(D.key,x),Dn=(m?ue:He)||D.key==="Enter"||D.key.trim()==="";if(T&&n){const Ft=M==null?void 0:M.nodesRef.current.find(qe=>qe.parentId==null),ve=M&&Ft?qr(M.nodesRef.current,Ft.id):null;if(ce&&ve&&j){const qe=new KeyboardEvent("keydown",{key:D.key,bubbles:!0});if(ue||de){var Mt,kt;const Nn=((Mt=ve.context)==null?void 0:Mt.elements.domReference)===D.currentTarget,Dt=de&&!Nn?(kt=ve.context)==null?void 0:kt.elements.domReference:ue?_e:null;Dt&&(te(D),Dt.dispatchEvent(qe),U(void 0))}if(He&&ve.context&&ve.context.open&&ve.parentId&&D.currentTarget!==ve.context.elements.domReference){var Lt;te(D),(Lt=ve.context.elements.domReference)==null||Lt.dispatchEvent(qe);return}}return J(D)}if(!(!n&&!P&&ce)){if(Dn&&(h.current=m&&He?null:D.key),m){ue&&(te(D),n?(w.current=at(c,$),E(w.current)):r(!0,D.nativeEvent));return}He&&(f!=null&&(w.current=f),te(D),!n&&P?r(!0,D.nativeEvent):J(D),n&&E(w.current))}},onFocus(){n&&E(null)},onPointerDown:Z,onMouseDown:z,onClick:z},floating:{"aria-orientation":x==="both"?void 0:x,...pe,onKeyDown:J,onPointerMove(){O.current=!0}},item:X}},[i,o,K,H,S,Q,c,g,x,p,T,n,V,m,f,P,v,L,u,b,E,r,X,M,j])}function Co(e,t){t===void 0&&(t={});const{open:n,floatingId:r}=e,{enabled:o=!0,role:i="dialog"}=t,s=Ve();return d.useMemo(()=>{const c={id:r,role:i};return o?i==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:c}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?r:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...c,...i==="menu"&&{"aria-labelledby":s}}}:{}},[o,i,n,r,s])}function Io(e,t){var n;const{open:r,dataRef:o}=e,{listRef:i,activeIndex:s,onMatch:c,onTypingChange:l,enabled:a=!0,findMatch:g=null,resetMs:f=750,ignoreKeys:v=[],selectedIndex:u=null}=t,m=d.useRef(),p=d.useRef(""),T=d.useRef((n=u??s)!=null?n:-1),b=d.useRef(null),y=ae(c),P=ae(l),R=fe(g),x=fe(v);return Y(()=>{r&&(clearTimeout(m.current),b.current=null,p.current="")},[r]),Y(()=>{if(r&&p.current===""){var L;T.current=(L=u??s)!=null?L:-1}},[r,u,s]),d.useMemo(()=>{if(!a)return{};function L(F){F?o.current.typing||(o.current.typing=F,P(F)):o.current.typing&&(o.current.typing=F,P(F))}function W(F,M,E){const N=R.current?R.current(M,E):M.find(w=>(w==null?void 0:w.toLocaleLowerCase().indexOf(E.toLocaleLowerCase()))===0);return N?F.indexOf(N):-1}function j(F){const M=i.current;if(p.current.length>0&&p.current[0]!==" "&&(W(M,M,p.current)===-1?L(!1):F.key===" "&&te(F)),M==null||x.current.includes(F.key)||F.key.length!==1||F.ctrlKey||F.metaKey||F.altKey)return;r&&F.key!==" "&&(te(F),L(!0)),M.every(h=>{var O,A;return h?((O=h[0])==null?void 0:O.toLocaleLowerCase())!==((A=h[1])==null?void 0:A.toLocaleLowerCase()):!0})&&p.current===F.key&&(p.current="",T.current=b.current),p.current+=F.key,clearTimeout(m.current),m.current=setTimeout(()=>{p.current="",T.current=b.current,L(!1)},f);const N=T.current,w=W(M,[...M.slice((N||0)+1),...M.slice(0,(N||0)+1)],p.current);w!==-1?(y(w),b.current=w):F.key!==" "&&(p.current="",L(!1))}return{reference:{onKeyDown:j},floating:{onKeyDown:j,onKeyUp(F){F.key===" "&&L(!1)}}}},[a,r,o,i,f,x,R,y,P])}function nn(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,c=i-1;s<i;c=s++){const[l,a]=t[s]||[0,0],[g,f]=t[c]||[0,0];a>=r!=f>=r&&n<=(g-l)*(r-a)/(f-a)+l&&(o=!o)}return o}function to(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Oo(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,s=null,c=null,l=performance.now();function a(f,v){const u=performance.now(),m=u-l;if(s===null||c===null||m===0)return s=f,c=v,l=u,null;const p=f-s,T=v-c,y=Math.sqrt(p*p+T*T)/m;return s=f,c=v,l=u,y}const g=f=>{let{x:v,y:u,placement:m,elements:p,onClose:T,nodeId:b,tree:y}=f;return function(R){function x(){clearTimeout(o),T()}if(clearTimeout(o),!p.domReference||!p.floating||m==null||v==null||u==null)return;const{clientX:L,clientY:W}=R,j=[L,W],F=he(R),M=R.type==="mouseleave",E=ee(p.floating,F),N=ee(p.domReference,F),w=p.domReference.getBoundingClientRect(),h=p.floating.getBoundingClientRect(),O=m.split("-")[0],A=v>h.right-h.width/2,C=u>h.bottom-h.height/2,I=to(j,w),k=h.width>w.width,S=h.height>w.height,Q=(k?w:h).left,_=(k?w:h).right,K=(S?w:h).top,B=(S?w:h).bottom;if(E&&(i=!0,!M))return;if(N&&(i=!1),N&&!M){i=!0;return}if(M&&G(R.relatedTarget)&&ee(p.floating,R.relatedTarget)||y&&Re(y.nodesRef.current,b).some(q=>{let{context:V}=q;return V==null?void 0:V.open}))return;if(O==="top"&&u>=w.bottom-1||O==="bottom"&&u<=w.top+1||O==="left"&&v>=w.right-1||O==="right"&&v<=w.left+1)return x();let H=[];switch(O){case"top":H=[[Q,w.top+1],[Q,h.bottom-1],[_,h.bottom-1],[_,w.top+1]];break;case"bottom":H=[[Q,h.top+1],[Q,w.bottom-1],[_,w.bottom-1],[_,h.top+1]];break;case"left":H=[[h.right-1,B],[h.right-1,K],[w.left+1,K],[w.left+1,B]];break;case"right":H=[[w.right-1,B],[w.right-1,K],[h.left+1,K],[h.left+1,B]];break}function U(q){let[V,X]=q;switch(O){case"top":{const $=[k?V+t/2:A?V+t*4:V-t*4,X+t+1],J=[k?V-t/2:A?V+t*4:V-t*4,X+t+1],z=[[h.left,A||k?h.bottom-t:h.top],[h.right,A?k?h.bottom-t:h.top:h.bottom-t]];return[$,J,...z]}case"bottom":{const $=[k?V+t/2:A?V+t*4:V-t*4,X-t],J=[k?V-t/2:A?V+t*4:V-t*4,X-t],z=[[h.left,A||k?h.top+t:h.bottom],[h.right,A?k?h.top+t:h.bottom:h.top+t]];return[$,J,...z]}case"left":{const $=[V+t+1,S?X+t/2:C?X+t*4:X-t*4],J=[V+t+1,S?X-t/2:C?X+t*4:X-t*4];return[...[[C||S?h.right-t:h.left,h.top],[C?S?h.right-t:h.left:h.right-t,h.bottom]],$,J]}case"right":{const $=[V-t,S?X+t/2:C?X+t*4:X-t*4],J=[V-t,S?X-t/2:C?X+t*4:X-t*4],z=[[C||S?h.left+t:h.right,h.top],[C?S?h.left+t:h.right:h.left+t,h.bottom]];return[$,J,...z]}}}if(!nn([L,W],H)){if(i&&!I)return x();if(!M&&r){const q=a(R.clientX,R.clientY);if(q!==null&&q<.1)return x()}nn([L,W],U([v,u]))?!i&&r&&(o=window.setTimeout(x,40)):x()}}};return g.__options={blockPointerEvents:n},g}export{vo as F,co as a,po as b,Ro as c,wo as d,Co as e,oo as f,Eo as g,uo as h,yo as i,Ve as j,ho as k,Me as l,fo as m,We as n,io as o,ao as p,Oo as q,To as r,so as s,Io as t,xo as u,mo as v,lo as w,go as x,bo as y};
//# sourceMappingURL=floating-ui.react-6c855d10.js.map
